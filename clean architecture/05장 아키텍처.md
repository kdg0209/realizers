# 아키텍처

<br>

## 15장: 아키텍처란?

- 소프트웨어 아키텍처란 시스템이 구축했던 사람들이 만들어낸 시스템의 형태입니다. 그 모양은 시스템을 컴포넌트로 분할하는 방법, 분할된 컴포넌트를 배치하는 방법, 분할된 컴포넌트끼리 통신하는 방법에 따라 정해집니다.
- 소프트웨어 아키텍트는 코드와 동떨어져서는 안되며 계속 프로그래밍 작업을 하면서 팀원들의 생산성을 극대화할 수 있는 설계를 하도록 방향을 이끌어줍니다.

#### 💡 아키텍처의 주된 목적

- 아키텍처의 주된 목적은 시스템의 생명주기를 지원하는 것입니다. 좋은 아키텍처는 시스템을 쉽게 이해할 수 있도록 해주며 그로인해 쉽게 개발하고, 유지보수하고, 배포할 수 있도록 해줍니다.
- 즉 아키텍처의 궁극적인 목적은 유지보수 비용을 최소화하고 프로그래머의 생산성을 극대화하는 것입니다.

#### 개발 

- 개발하기 힘든 시스템이라면 수명이 길지도 않고 건강하지도 않을 것입니다. 따라서 아키텍트는 개발팀이 시스템을 쉽게 개발할 수 있도록 지원을 해야합니다.
- 개발팀 인원이 적으면 아키텍처가 걸림돌이 될 수도 있습니다. 하지만 최소한의 아키텍처는 정의가 되어 있어야 한다고 생각하고 있습니다. 또한 개발팀의 인원이 많으면 여러 프로젝트를 동시에 진행하고 있을것이기 때문에 시스템을 신뢰할 수 있는 안정된 인터페이스를 갖추기 위해 설계를 해야합니다.

#### 배포

- 소프트웨어 시스템이 사용될 수 있으려면 반드시 배포할 수 있어야 합니다. 그리고 배포 비용이 비싸다면 시스템의 유용성은 떨어지게 됩니다.
- 개발 초기 단계에서는 배포 전략을 거의 고려하지 않지만 시스템이 성장함에 따라서 배포 전략도 고려를 해야합니다. 

#### 운영

- 아키텍처가 시스템 운영에 미치는 영향은 개발, 배포, 유지보수에 미치는 영향보다는 덜합니다. 그 이유는 시스템에 문제가 발생하면 scale-up이나 scale-out을 할 수 있기 때문입니다. 즉 돈을 발라 현재 문제를 잠재울 수 있습니다. (근본적인 해결책은 아닙니다.)

> 시스템 아키텍처는 유스케이스(사용 사례), 기능, 시스템의 필수 행위를 일급 엔티티로 격상시키고, 이들 요소가 개발자에게 주요 목표로 인식되도록 해야한다. 라는 문장이 있는데 무슨 의미일까?

> 구체적인 의미
>
> 1. 사용 사례 중심 설계: 시스템을 설계할 때 특정 기술이나 데이터 구조보다는 사용 사례에 집중하여 사용자가 시스템을 통해 이루고자 하는 목표를 정의합니다.
> 2. 기능: 시스템이 제공해야 하는 기능과 그 기능이 어떻게 작동해야 하는지를 명확하게 정의하고, 이것을 아키텍처의 중요한 요소로 삼아야 합니다.
> 3. 일급 엔티티로 격상: "일급 엔티티"라는 것은 코드에서 가장 중요한 구성 요소로 다뤄져야 한다는 것입니다. 즉 사용 사례와 기능이 부가적인 고려사항이 아닌 아키텍처 설계의 주요 목표로 설정되어야 한다는 의미입니다. 

#### 유지보수

- 유지보수는 모든 측면에서 소프트웨어 시스템에서 비용이 가장 많이 듭니다. 그 이유는 소프트웨어 시스템이 운영되는 과정에서 항상 새로운 기능을 추가하고 변경해야 하기 때문입니다.
- 유지보수의 가장 큰 비용은 "탐사"와 사이드 이펙트입니다. 새로운 기능을 추가하거나 기존 기능을 변경할 때 어디에 코드를 변경할지 "탐사"해야하고, 또한 사이드 이펙트의 가능성을 항상 염두해야하기 때문입니다.

#### 선택사항 열어두기

> 아키텍트는 어떤 일이든 용이하게 만들기 위해서는 가능한 한 많은 선택지를, 가능한 한 오래 남겨두는 전략을 따라야 합니다.

- 소프트웨어는 두 종류의 가치를 가지는데, 첫번째는 행위적 가치(요구사항)이고 두번째는 구조적 가치인데, "구조적 가치"가 더 중요합니다.
- 소프트웨어를 만드는 이유는 요구사항을 빠르고 쉽게 변경할 수 있도록 하기 위함인데, 이러한 유연성은 시스템의 형태, 컴포넌트의 배치 방식, 컴포넌트의 조립 방식에 크게 의존합니다.
- 소프트웨어를 최대한 부드럽게 유지하는 방법은 선택사항을 가능한 한 많이, 그리고 가능한 한 오래 열어두는 것입니다.

#### 🧐 가능한 한 많이, 가능한 한 오래 열어두는게 무엇을 의미하는걸까?

> 가능한 한 많이, 가능한 한 오래 열어두면 작업을 어떻게해야하지? 라는 의문점을 가질 수 있습니다.
> 나의 생각
> 1. 변하지 않는 것(정책)과 변하는 것(세부 구현 사항)을 최대한 구분하고 격리시켜 개발을 진행하라는 의미인거 같습니다. 즉 SOLID에서는 DIP를 의미하는 것이고, 컴포넌트 관점에서 바라본다면 CRP(공통 재사용 원칙)와 SDP(안정된 의존성 원칙), SAP(안정된 추상화 원칙)을 의미하는 것 같습니다.

#### 결론

- 좋은 아키텍트는 세부사항을 정책으로부터 신중하게 가려내고, 정첵이 세부사항과 결합되지 않도록 분리합니다. 이를 통해 정책은 세부사항에 관한 어떠한 지식도 갖지 못하게 되며, 세부사항에 의존하지 않게 됩니다.
- 좋은 아키텍트는 세부사항에 대한 결정을 가능한 한 오랫동안 미룰 수 있는 방향을 정책을 설계합니다.

<br>

## 16장: 독립성



















