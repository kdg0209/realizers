# API 설계

- 좋은 API를 설계하기 위해서는 기술을 갖추고, 코드의 맛을 느낄 줄 알아야합니다.

## 1. 설계의 원칙

- API는 응용 프로그래밍 인터페이스(Application Programming Interface)의 약자로, 클라이언트 코드를 작성할 수 있는 인터페이스를 의미합니다.

### 행동 유도성

- 인터페이스란 행동을 유도하는 것이자, 다른 코드와 상호작용하기 위해 사용할 수 있는 메서드, 속성, 객체를 의미합니다.
- 인터페이스는 적절한 캡슐화를 통해서 관련된 객체의 불변성을 보존하는 일련의 작업을 의미합니다.

```text
- 도널드 A.노먼
행동 유도성은 물체나 사람 사이의 관계를 설명하는 것입니다.
예를들어 의자는 받침을 제공하기 때문에 앉을 수 있으며, 대부분 한 사람이 옮길 수 있지만, 어떤 의자는 힘이 센 사람이 필요하거나, 여러명이 힘들 합쳐야 들어 올릴 수 있는 것도 있습니다.
이러한 경우에는 의자를 들어올린다는 행동을 유도할 수 없으므로 결과적으로 이 의자는 들어올릴 만하지 않다고 이야기할 수 있습니다.
```

<br>

### 포카요케

- 좋은 API는 가능한 한 기능이 많아야한고 생각하는 개발자 분들이 많은데, API는 한 가지 특정 목적만을 갖는게 더욱 좋습니다. API는 두가지 일을 하는게 아니라 하나의 역할만 수행해야하고, 단일 책임이 있어야 한다고 생각합니다.
- API는 잘못 사용하기 어렵게 설계해야 합니다. 즉 명확해야 한다고 생각합니다.

<br>

### 읽는 사람을 위한 코드 작성

- 코드를 작성하는 것보다 다른 사람이 작성한 코드를 읽는 시간이 더욱 더 많기 때문에 우리는 읽을 사람을 위해 가독성 좋은 코드를 작성해야 합니다.

<br>

### 주석보다 중요한, 잘 지은 이름

- 클래스명, 메서드명, 변수명은 주석을 대체할 수 있습니다. 이름을 지을때 내부 구현에 대한 내용을 이름으로 짓기 보다는 목적을 드러내기 위해 이름을 짓는 습관을 기르는게 중요하다고 생각합니다.
- 주석을 작성하는게 나쁜게 아니라, 주석보다는 메서드명을 잘 짓는게 더 좋다는 이야기입니다.

<br>

### 명령과 쿼리의 분리(CQS)

- 명령(command)이란?
  - 데이터의 상태르 변경하는 메서드는 데이터를 반환하지 않아야합니다. 즉, 반환 유형이 void여야 하므로, 이 키워드(void)를 통해서 데이터를 반환하지 않는다는 것을 쉽게 알아볼 수 있습니다.
  - void와 같은 메서드를 보면, 그 메서드의 존재 이유가 부수 효과를 발생시키는 것임을 알 수 있습니다. 이러한 메서드를 명령(command)라 합니다.

- 쿼리(query)란?
  - 데이터를 반환하는 메서드는 부수 효과가 없을 거라고 추측할 수 있어야 합니다. 이러한 메서드들을 쿼리(query)라고 합니다.

<br>

### 정보 전달 단계

- 메서드 이름을 통해 알려줄 수 있는 것은 주석에 쓰지 않습니다. 형식을 통해 알려줄 수 있는 것은 메서드 이름에 적지 않습니다.
- 중요한 것부터 순서대로 나열
  1. API에 특유의 데이터 형식을 제공해서 독자에게 정보를 줄 것
  2. 메서드에 유용한 이름을 지정해서 독자에게 정보를 줄 것
  3. 좋은 주석을 작성해서 독자에게 정보를 줄 것
  4. 자동화된 테스트 코드를 사용해서 독자에게 정보를 줄 것
  5. 깃 커밋 메시지를 잘 작성해서 독자에게 정보를 줄 것
  6. 좋은 문서를 작성해서 독자에게 정보를 줄 것

<br>

## 2. 결론

- 코드가 지속가능하기 위해서는 인간이 이해할 수 있는 코드를 작성해야 합니다.

```text
- 마틴 파울러
컴퓨터가 인식 가능한 코드는 바보라도 작성할 수 있지만,
인간이 이해할 수 있는 코드는 실력 있는 프로그래머만 작성할 수 있습니다.

- 로버트 마틴
추상화는 무관한 것을 제거하고, 본질적인 것을 강조하는 것입니다.
```




















