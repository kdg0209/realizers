## 챗지피티와 랭체인

<br>

## 언어 모델이란?

- 언어 모델이란 인간의 언어(자연어)를 컴퓨터가 이해할 수 있게 하고, 이를 바탕으로 텍스트를 생성하기 위한 알고리즘이나 프로그램을 말합니다.

#### Chat Completions

- `Chat Completions`은 Chat GPT를 API 방식으로 사용하는 방법입니다.
- 개인적으로 이 방식을 탐구했을 때 테스트용으로만 접해봤습니다. 

#### Assistants

- `Assistants`는 `Instrunction`을 활용하여 사용자의 질문에 답변을 할 수 있습니다.
- `Instrunction`을 활용하여 특정 역할을 수행하는 `Assistants`를 정의할 수 있습니다.
- `Assistants`는 영구적인 스레드를 만들어 스레드에 메시지를 기록하고 이후에도 계속 사용할 수 있습니다. 또한 답변을 생성하기 위한 `top_P`, `top_K`, `temperature`와 같은 설정값을 지원해줍니다.

#### token

- OpenAI의 기능을 사용할 때 정말 주의해야할 점은 `token`입니다. 이 `token`은 언어 모델이 정보를 처리할 때 사용하는 최소 단위를 말하는데 영어는 1단어가 1토큰에 해당하지만 한국어는 1문자당 1~2 토큰이 사용되게 됩니다.
- `token`은 input/output에 큰 영향을 주기 때문에 `TPM`을 초과해버린다면 응답 속도 지연이 엄청나게 발생하게 됩니다.
- 회사에서 `GPT-4o mini` 모델을 사용하여 처음 개발을 시작할 때 처음에는 `token`으로 인해 엄청 스트레스를 받으면서 개발했었는데, 이후 `token`과 `TPM`이 중요하다는 것을 알게 되었고, 어떻게 짧은 시간에 많은 데이터를 분석할지를 한참 고민하곤 했었습니다. 물론 지금도 하고 있습니다....
- [모델 사양 보기](https://platform.openai.com/docs/models/gpt-4o-mini) 모델의 사양을 확인할 때 물론 어떠한 기능을 제공하는지도 중요하지만 `Rate Limits`에 보이는 `TIER`별 성능이 가장 중요합니다.

<br>

## 랭체인 개요

- GPT와 같은 고성능 언어 모델의 등장으로 인해 어려웠던 작업들을 조금이나마 쉽게할 수 있게 되었지만 이 언어 모델에는 한계점이 존재합니다. 저는 아래 2가지가 주요 단점이라 생각합니다.
  - 언어 모델이 학습한 데이터 범위 내에서만 답변을 생성할 수 있습니다.
  - 정말 자주 환각 현상이 발생합니다.

#### 랭체인이란

- 랭체인은 언어 모델이 아니라 개발을 돕는 프레임워크라고 생각하시면 좋을거 같습니다. 랭체인은 GPT와 같은 외부 언어 모델과 함께 사용해야 합니다.

<br>

### 랭체인의 6가지 모듈

#### Model I/O

- 언어 모델을 호출하기 위해서는 `프롬프트 준비`, `언어 모델 호출`, `결과 수신`의 세가지가 필요한데 `Model I/O`를 사용하면 쉽게할 수 있다고합니다.

#### Retrieval

- 언어 모델은 앞에서 언급한거처럼 학습한 데이터 범위 안에서만 답변을 할 수 있고, 환각 현상이 자주 발생합니다. 이러한 문제점을 해결하기 위해 `RAG`를 사용할 수 있습니다.

#### Memory

- 언어 모델과 대화 형식으로 주고받을 때 이전까지의 대화를 모두 어딘가에 저장해야하는데, `Memory` 모듈은 이러한 대화 기록을 저장하고 쉽게 불러올 수 있다고 합니다.

#### Chains

- `Chains`는 랭체인에서 여러 모듈과 다른 기능을 조합해 하나의 애플리케이션을 만들 수 있는데, `Chains` 모듈은 이러한 조합을 쉽게할 수 있는 기능을 제공합니다.
- `Chains`는 조합을 목적으로 하는 모듈이기 때문에 단독으로 사용할 수는 없습니다.

#### Agents

- `Agents` 모듈은 주로 `ReAct`나 `OpenAI Function Calling`이라는 기법을 사용해 언어 모델 호출로는 대응할 수 없는 작업을 실행할 수 있습니다.

#### Callbacks

- `Callbacks` 모듈은 랭체인으로 만든 애플리케이션에서 이벤트 발생 시 처리를 수행하는 기능을 제공합니다.
- 단독으로 이 기능을 사용할 수 없고 다른 모듈과 결합하는 것을 전제로 합니다. 주로 로그 출력이나 외부 라이브러리 연동에서 사용한다고 합니다.



