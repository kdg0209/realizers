# ì½”ë“œë¥¼ ëª¨ë“ˆí™”í•˜ë¼

- ëª¨ë“ˆí™”ì˜ ì£¼ëœ ëª©ì  ì¤‘ í•˜ë‚˜ëŠ” ì½”ë“œê°€ ë‚˜ì¤‘ì— ì–´ë–»ê²Œ ë³€ê²½ë˜ê±°ë‚˜ ì¬êµ¬ì„±ë ì§€ ì •í™•íˆ ì•Œì§€ ëª»í•œ ìƒíƒœì—ì„œ ë³€ê²½ê³¼ ì¬êµ¬ì„±ì´ ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- ì´ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ê°ê°ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ë’¤ ì¡°í•©ì„ í•˜ì—¬ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

<br>

## 1. ì˜ì¡´ì„± ì£¼ì…ì˜ ì‚¬ìš©ì„ ê³ ë ¤í•´ë¼

### 1-1. í•˜ë“œ ì½”ë”©ëœ ì˜ì¡´ì„±ì€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤

#### ì˜ˆì‹œ ì½”ë“œ

- ì•„ë˜ëŠ” ê²°ì œ ì„œë¹„ìŠ¤ë¥¼ ì˜ˆì‹œë¡œ ë“¤ì—ˆìŠµë‹ˆë‹¤.
- PaymentService í´ë˜ìŠ¤ëŠ” PaymentProvider ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ìƒì„±ì ë‚´ë¶€ì—ì„œ KaKaoPayProvider ê²ì²´ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ë°©ì‹ì€ PaymentService ê°ì²´ë¥¼ ìƒì„±í•˜ê¸°ëŠ” ì‰¬ìš°ë‚˜ ë‹¤ë¥¸ í˜ì´ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼í•  ë•Œ í•˜ë“œ ì½”ë”©ëœ ìƒì„±ìë¡œ ì¸í•´ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ì—†ê±°ë‚˜ ë‚´ë¶€ ìˆ¨ê²¨ì§„ ì˜ì¡´ì„±ìœ¼ë¡œ ì¸í•´ ë‹¤ë¥¸ ê°œë°œìê°€ ë¯¸ì²˜ íŒŒì•…í•˜ì§€ ëª»í•œë‹¤ëŠ” ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤.

```java
public class PaymentService {

    private final PaymentProvider paymentProvider;

    public PaymentService() {
        this.paymentProvider = new KaKaoPayProvider();
    }

    public void pay() {
        paymentProvider.pay();
    }
}

public interface PaymentProvider {

    void pay();
}

public class KaKaoPayProvider implements PaymentProvider {

    @Override
    public void pay() { }
}
```

<br>

#### ğŸ§ ê·¸ë˜ì„œ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?

- ë°”ë¡œ `ì˜ì¡´ì„± ì£¼ì…`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë„ˆë¬´ ë‹¹ì—°í•œ ì´ì•¼ê¸°ì£ ?
- ì¸í„°í˜ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë‹¤í˜•ì„±ì„ í†µí•´ ìƒí™©ì— ë”°ë¼ ì—¬ëŸ¬ ê°ì²´ë¥¼ ì£¼ì…í•´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Main í´ë˜ìŠ¤ì˜ main ë©”ì„œë“œë¥¼ ë³´ë©´ ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ PaymentService ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì´ë ‡ê²Œ ì£¼ì…í•˜ë©´ PaymentService ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì¡°ê¸ˆ ë³µì¡í•´ì§„ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì˜ì¡´ì„± ì£¼ì… í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë³´ë‹¤ í¸ë¦¬í•˜ê²Œ ê°œë°œì— ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public class PaymentService {

    private final PaymentProvider paymentProvider;

    public PaymentService(PaymentProvider paymentProvider) {
        this.paymentProvider = paymentProvider;
    }

    public void pay() {
        paymentProvider.pay();
    }
}

public class Main {

    public static void main(String[] args) {
        PaymentService paymentService = new PaymentService(new KaKaoPayProvider());
    }
}
```

<br>

#### ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ 'ì˜ì¡´ì„± ì£¼ì…'ì„ ì—¼ë‘í•´ë‘¬ë¼

- ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì˜ì¡´ì„± ì£¼ì…ì„ ì—¼ë‘í•´ë‘ëŠ” ê²ƒì´ ë¯¸ë˜ë¥¼ ìœ„í•´ ì¢‹ìŠµë‹ˆë‹¤. ë¬´ì¡°ê±´ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ì“°ì¼ì§€ë¼ë„ ì˜ì¡´ì„± ì£¼ì…ì„ í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
- ìš°ë¦¬ëŠ” ê²°ì œ ì„œë¹„ìŠ¤ë¥¼ ì¹´ì¹´ì˜¤í˜ì´ë§Œì„ ì‚¬ìš©í• ê±°ë‹¤! ë¼ê³ í•˜ì—¬ ì•„ë˜ì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ static ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ì‰½ê²Œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì²˜ëŸ¼ í•  ìˆ˜ë„ ìˆëŠ”ë° ì´ëŠ” ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹™ë‹ˆë‹¤.
í•´ë‹¹ ë¡œì§ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤ë©´ static ë©”ì„œë“œë¡œ ì¸í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì— í˜ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  `mockStatic`ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì´ëŠ” ì¢‹ì€ ë°©ë²•ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```java
public class PaymentService {

    public void pay() {
        KaKaoPayProvider.pay();
        // something ...
    }
}

public class KaKaoPayProvider {

    public static void pay() { }
}
```

<br>

## 2. ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë¼

- ì–´ë–¤ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì˜ì¡´í•˜ê³  ìˆëŠ”ë° ê·¸ í´ë˜ìŠ¤ê°€ ì–´ë–¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  í•„ìš”í•œ ê¸°ëŠ¥ì´ ê·¸ ì¸í„°í˜ì´ìŠ¤ì— ëª¨ë‘ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´ í´ë˜ìŠ¤ë¥¼ ë°”ë¡œ ì˜ì¡´í•˜ê¸°ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ê³  ìˆëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.

### 2-1. êµ¬ì²´ì ì¸ êµ¬í˜„ì— ì˜ì¡´í•˜ë©´ ì ì‘ì„±ì´ ì œí•œëœë‹¤

#### ì˜ˆì‹œ ì½”ë“œ

- ì•„ë˜ ì˜ˆì‹œ ì½”ë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì—ˆì§€ë§Œ ì •ì‘ ì‚¬ìš©ì€ ì•ˆí•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê²°êµ­ ì˜ì¡´ì„± ì£¼ì…ì˜ ì¥ì ì„ ì œëŒ€ë¡œ ì‚´ë¦¬ì§€ ëª»í•˜ê³  ìˆìŠµë‹ˆë‹¤.
- ì•„ë˜ ì˜ˆì‹œ ì½”ë“œë„ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ êµ¬í˜„ì²´ì— ì˜ì¡´í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰ PaymentService í´ë˜ìŠ¤ëŠ” `PaymentProvider`ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

```java
public class PaymentService {
    
    private final KaKaoPayProvider kaKaoPayProvider;

    public PaymentService(KaKaoPayProvider kaKaoPayProvider) {
        this.kaKaoPayProvider = kaKaoPayProvider;
    }

    public void pay() {
        kaKaoPayProvider.pay();
        // something ...
    }
}

public interface PaymentProvider {

    void pay();
}

public class KaKaoPayProvider implements PaymentProvider {

    @Override
    public void pay() { }
}
```

<br>

## 3. í´ë˜ìŠ¤ ìƒì†ì„ ì£¼ì˜í•´ë¼

- OOP ì–¸ì–´ì˜ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” ìƒì†ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¬´í„±ëŒ€ê³  ìƒì†ì„ ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì½”ë“œì— ê°•ê²°í•©ì´ ë°œìƒí•˜ê³  ë” ë³µì¡í•´ì§€ëŠ” ë¬¸ì œì— ë¹ ì§€ê¸° ì‰½ìŠµë‹ˆë‹¤.
- ìƒì†ì€ `is-a` ê´€ê³„ë¥¼ ê°€ì§„ë‹¤ë©´ ìƒì†ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ ê·¸ë˜ë„ `composition`ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ë” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.

### 3-1. í´ë˜ìŠ¤ ìƒì†ì˜ ë¬¸ì œì 

- ì•„ë˜ í´ë˜ìŠ¤ëŠ” íŠ¹ì • íŒŒì¼ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ë‹¤ì‹œ ì½ì–´ì˜¤ëŠ” ë¡œì§ì´ ë‹´ê¸´ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì´ë•Œ IntFileReader í´ë˜ìŠ¤ëŠ” CsvFileHandler í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆìŠµë‹ˆë‹¤.

#### ìƒì†ì€ ì¶”ìƒí™” ê³„ì¸µì— ë°©í•´ê°€ ë  ìˆ˜ ìˆë‹¤

- IntFileReader í´ë˜ìŠ¤ëŠ” CsvFileHandler í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆê¸° ë•Œë¬¸ì— CsvFileHandler í´ë˜ìŠ¤ê°€ ì œê³µí•´ì£¼ëŠ” ëª¨ë“  ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê·¸ëŸ°ë° ìì‹ ì´ ì›í•˜ëŠ” ê²ƒë³´ë‹¤ ë” ë§ì€ ê¸°ëŠ¥ì´ ë…¸ì¶œë˜ê³  ìˆê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. IntFileReader í´ë˜ìŠ¤ëŠ” íŒŒì¼ë¡œë¶€í„° ì •ìˆ˜ë¥¼ ì½ëŠ” ê¸°ëŠ¥ë§Œ ê°€ì§„ë‹¤ê³  ì•Œë ¤ì ¸ ìˆëŠ”ë°, ê°‘ìê¸° íŒŒì¼ì— ë°ì´í„°ë¥¼ ì“°ëŠ” í–‰ìœ„ê°€ ìˆë‹¤ê³  í•˜ë©´ ë§¤ìš° ì´ìƒí•œ ì¼ì´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ì—´ì–´ë†“ìœ¼ë©´ ë‚˜ì¤‘ì— ê·¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ê°œë°œìê°€ ìˆê²Œ ë˜ê³  ì´í›„ì— ë¬¸ì œë¥¼ í•´ê²°í–ë‚˜ê°€ë ¤ê³ í•˜ë©´ ì •ë§ ì •ì‹ ì ìœ¼ë¡œ í˜ë“¤ì–´ì§‘ë‹ˆë‹¤.

```java
public interface FileReader {

    String getNextValue();

    void close();
}

public interface FileWriter {

    void writeValue(String value);

    void close();
}

public class CsvFileHandler implements FileReader, FileWriter {

    private final File file;

    public CsvFileHandler(File file) {
        this.file = file;
    }

    @Override
    public String getNextValue() { }

    @Override
    public void close() { }

    @Override
    public void writeValue(String value) { }
}

public class IntFileReader extends CsvFileHandler {

    public IntFileReader(File file) {
        super(file);
    }
    
    public Integer getNextInt() {
        String nextValue = getNextValue();

        if (nextValue == null) {
            return null;
        }

        return Integer.parseInt(nextValue);
    }
}
```

<br>

#### ìƒì†ì€ ì ì‘ì„± ë†’ì€ ì½”ë“œì˜ ì‘ì„±ì„ ì–´ë µê²Œ ë§Œë“ ë‹¤

- IntFileReader í´ë˜ìŠ¤ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ê°’ì„ ê°€ì§„ íŒŒì¼ë¡œë¶€í„° ì •ìˆ˜ë¥¼ ì½ì–´ë“¤ì´ëŠ”ë°, ë‚˜ì¤‘ì— ì„¸ë¯¸ì½œë¡ ìœ¼ë¡œ êµ¬ë¶„ëœ ê°’ë„ ì½ì„ ìˆ˜ ìˆë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì„ ë•Œ ì–´ë–»ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆì„ì§€ ì•Œì•„ë´…ì‹œë‹¤.
- ë¬¼ë¡  IntFileReader í´ë˜ìŠ¤ë¥¼ ë§Œë“  ê°œë°œìê°€ ì´ ìš”êµ¬ì‚¬í•­ì„ ë°›ì•˜ë‹¤ë©´ ê¸°ì¡´ ë¡œì§ì„ ì´í•´í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë¹„ìŠ·í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ë‹¤ë¥¸ ê°œë°œìê°€ ì´ ìš”êµ¬ì‚¬í•­ì„ ë°›ì•˜ì„ ë•ŒëŠ” ì•„ë˜ì²˜ëŸ¼ ë§Œë“¤ ìˆ˜ ìˆê²Œë©ë‹ˆë‹¤.
- ì•„ë˜ ì½”ë“œëŠ” SemicolonFileHandler í´ë˜ìŠ¤ì—ì„œ FileReader, FileWriter ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆìœ¼ë©°, SemicolonFileReader í´ë˜ìŠ¤ëŠ” SemicolonFileHandler í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  getNextInt ë©”ì„œë“œëŠ” IntFileReader í´ë˜ìŠ¤ê°€ ê°€ì§€ê³  ìˆëŠ” ë¡œì§ê³¼ ì¤‘ë³µì´ ë©ë‹ˆë‹¤.

```java
public class SemicolonFileHandler implements FileReader, FileWriter {
    
    private final File file;

    public SemicolonFileHandler(File file) {
        this.file = file;
    }

    @Override
    public String getNextValue() { }

    @Override
    public void close() { }

    @Override
    public void writeValue(String value) { }
}

public class SemicolonFileReader extends SemicolonFileHandler {

    public SemicolonFileReader(File file) {
        super(file);
    }

    public Integer getNextInt() {
        String nextValue = getNextValue();

        if (nextValue == null) {
            return null;
        }

        return Integer.parseInt(nextValue);
    }
}
```

<br>

#### ğŸ§ ê·¸ë˜ì„œ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?

- ìƒì†ë³´ë‹¤ëŠ” `composition`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ê¸°ë³´ë‹¤ëŠ” í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆìŒìœ¼ë¡œì¨ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¥¼ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œë¶€í„° êµ¬ì„±í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì•„ë˜ ì˜ˆì‹œ ì½”ë“œì—ì„œ ì£¼ì˜í•´ì„œ ë´ì•¼í•  ê³³ì€ ì¸í„°í˜ì´ìŠ¤ ë‘ê°œë¥¼ CsvFileHandler, SemicolonFileHandlerê°€ ê°ê° êµ¬í˜„í•˜ê³  ìˆê³  IntFileReader í´ë˜ìŠ¤ëŠ” êµ¬í˜„ì²´ì— ì˜ì¡´í•˜ê³  ìˆëŠ”ê²Œ ì•„ë‹ˆë¼ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
ë”°ë¼ì„œ ë¶ˆí•„ìš”í•œ ë©”ì„œë“œì—ëŠ” ì ‘ê·¼í•  ì¼ì´ ì—†ê³ , ì‰¼í‘œì—ì„œ ì„¸ë¯¸ì½œë¡ ìœ¼ë¡œ ë³€ê²½ëœë‹¤ë©´ ìƒì„±ìì— êµ¬í˜„ì²´ë§Œ ë³€ê²½í•˜ì—¬ ì£¼ì…í•˜ë©´ ë©ë‹ˆë‹¤.

```java
public interface FileReader {

    String getNextValue();

    void close();
}

public interface FileWriter {

    void writeValue(String value);

    void close();
}

public class CsvFileHandler implements FileReader, FileWriter {

    private final File file;

    public CsvFileHandler(File file) {
        this.file = file;
    }

    @Override
    public String getNextValue() { }

    @Override
    public void close() { }

    @Override
    public void writeValue(String value) { }
}

public class SemicolonFileHandler implements FileReader, FileWriter {

    private final File file;

    public SemicolonFileHandler(File file) {
        this.file = file;
    }

    @Override
    public String getNextValue() { }

    @Override
    public void close() { }

    @Override
    public void writeValue(String value) { }
}

public class IntFileReader {

    private final FileReader fileReader;

    public IntFileReader(FileReader fileReader) {
        this.fileReader = fileReader;
    }

    public Integer getNextInt() {
        String nextValue = fileReader.getNextValue();

        if (nextValue == null) {
            return null;
        }

        return Integer.parseInt(nextValue);
    }
}
```

<br>

#### ë³´ì™„ëœ ë¬¸ì œì ë“¤

- ìƒì†ì„ ì‚¬ìš©í•˜ë©´ ì„œë¸Œ í´ë˜ìŠ¤ëŠ” ìŠˆí¼ í´ë˜ìŠ¤ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ì˜ ì˜ˆì‹œì—ì„œ ì–¸ê¸‰í•œê²ƒì²˜í—˜ readerê°€ writeì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ `composition`ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë³´ì™„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë˜í•œ ì‰¼í‘œì—ì„œ ì„¸ë¯¸ì½œë¡ ìœ¼ë¡œ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°ì—ë„ ì‰½ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```java
public class Main {

    public static void main(String[] args) {
        
        // ì‰¼í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ...
        new IntFileReader(new CsvFileHandler(new File(...)));

        // ì„¸ë¯¸ì½œë¡ ì„ ê¸°ì¤€ìœ¼ë¡œ ...
        new IntFileReader(new SemicolonFileHandler()new File(...)));
    }
}
```

<br>

### 3-2. ì§„ì •í•œ Is-a ê´€ê³„ë¼ë©´ ìƒì†ì€ ê´œì°®ì„ê¹Œ?

- ë‘ í´ë˜ìŠ¤ê°€ `is-a` ê´€ê³„ë¼ë©´ ìƒì†ì´ ê´œì°®ì„ ìˆ˜ë„ ìˆë‹¤ê³  ìœ„ì—ì„œ ì–¸ê¸‰ì„ í–ˆì—ˆëŠ”ë° ì •ë§ ê·¸ëŸ´ê¹Œìš”?
- ì•„ë˜ ê·¸ë¦¼ì—ì„œëŠ” ìë™ì°¨ì™€ í•­ê³µê¸°ê°€ ìˆëŠ”ë° ì‹œê°„ì´ ì§€ë‚˜ í•˜ëŠ˜ì„ ë‚˜ëŠ” ìë™ì°¨ê°€ ë“±ì¥í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ëŸ¼ ì´ê²ƒì€ ëŒ€ì²´ ì–´ëŠ ìƒì†ê´€ê³„ì— í¬í•¨ì‹œì¼œì•¼í• ê¹Œìš”?

<img width="1032" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-03-02 á„‹á…©á„’á…® 3 02 57" src="https://github.com/user-attachments/assets/cf57601e-2b14-4ee9-93c4-d4a2bde885fe" />

<br>

#### compositionì„ í™œìš©í•´ë³´ì

- ìœ„ ê·¸ë¦¼ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë” ë³µì¡í•´ì§€ê¸´ í–ˆì§€ë§Œ ì„ ì´ ì‰½ê²Œ ì´í•´í•˜ê¸° ìœ„í•´ ì„ ì´ ë§ì€ê²ƒë¿ì´ì§€ ë³µì¡í•œê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.
- ê²°êµ­ ë§í•˜ê³ ìí•˜ëŠ” ê²ƒì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê° ìƒí™©ì— ë§ê²Œ êµ¬í˜„í•˜ê³  êµ¬í˜„ì²´ì— ë°”ë¡œ ì˜ì¡´í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ìëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.

<img width="1032" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-03-02 á„‹á…©á„’á…® 3 08 49" src="https://github.com/user-attachments/assets/2894aafc-c4af-44c9-b83a-d29227d5c994" />

<br><br>

## 4. í´ë˜ìŠ¤ëŠ” ìì‹ ì˜ ê¸°ëŠ¥ì—ë§Œ ì§‘ì¤‘í•´ì•¼ í•œë‹¤

- ëª¨ë“ˆí™”ì˜ í•µì‹¬ ëª©í‘œ ì¤‘ í•˜ë‚˜ê°€ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ë©´ ê·¸ ë³€ê²½ê³¼ ì§ì ‘ ê´€ë ¨ëœ ì½”ë“œë§Œ ìˆ˜ì •í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ì´ê³³ì €ê³³ì„ ìˆ˜ì •í•´ì•¼í•˜ë©´ ì‘ì§‘ë„ê°€ ë‚®ê³  ê²°í•©ë„ê°€ ë†’ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

#### ì˜ˆì‹œ ì½”ë“œ

- ì•„ë˜ ì½”ë“œëŠ” ì±…ì˜ ëª¨ë“  ì±•í„° ë‹¨ì–´ ìˆ˜ë¥¼ í•©ì³ ë°˜í™˜í•˜ëŠ” ë¡œì§ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” `ë””ë¯¸í„° ë²•ì¹™`ì„ ìœ„ë°˜í•˜ê³  ìˆìœ¼ë©°, `ë¬»ì§€ ë§ê³  ì‹œì¼œë¼` ì›ì¹™ë„ ìœ„ë°˜í•˜ê³  ìˆìŠµë‹ˆë‹¤, ê²°êµ­ ìº¡ìŠí™”ê°€ ê¹¨ì ¸ìˆë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

```java
public class Book {

    private List<Chapter> chapters;

    public long getTotalWord() {
        return this.chapters.stream()
                .map(Chapter::getWord)
                .map(String::length)
                .mapToLong(x -> x)
                .sum();
    }
}

public class Chapter {

    private String word;

    public String getWord() {
        return word;
    }
}
```

<br>

#### ğŸ§ ê·¸ë˜ì„œ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?

- ì•„ë˜ì²˜ëŸ¼ ë°ì´í„° ê°€ê³µì´ í•„ìš”í•œ ë¶€ë¶„ì€ í•´ë‹¹ ê°ì²´ì—ê²Œ ìœ„ì„ì‹œí‚¤ëŠ” ê²ƒì´ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.

```java
public class Book {

    private List<Chapter> chapters;

    public long getTotalWord() {
        return this.chapters.stream()
                .mapToLong(Chapter::getWordCount)
                .sum();
    }
}

public class Chapter {

    private String word;

    public long getWordCount() {
        return this.word.length();
    }
}
```

<br>

## 5. ê´€ë ¨ ìˆëŠ” ë°ì´í„°ëŠ” í•¨ê»˜ ìº¡ìŠí™”í•´ë¼

- ì„œë¡œì˜ ë°ì´í„°ê°€ ë°€ì ‘í•˜ê²Œ ê´€ë ¨ì´ ìˆëŠ” ê²½ìš° í•´ë‹¹ ë°ì´í„°ë“¤ì„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ë‘ëŠ”ê²Œ ë” í•©ë¦¬ì ì…ë‹ˆë‹¤.

#### ì˜ˆì‹œ ì½”ë“œ

- ì•„ë˜ ì½”ë“œëŠ” íŠ¹ì • í…ìŠ¤íŠ¸ë¥¼ Ui ì„¸íŒ…ì— ë§ë„ë¡ ë³´ì—¬ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ ë‚˜ì¤‘ì— ê¸€ê¼´ ìŠ¤íƒ€ì¼ì´ ì¶”ê°€ëœë‹¤ë©´ ë³€ê²½ì´ ì´ë£¨ì–´ì§€ëŠ” ê³³ì€ UiSettings, Text, UserInterface ì´ë¯€ë¡œ ì´ 3ê°œê°€ ë©ë‹ˆë‹¤.

```java
public class UiSettings {
    
    private Font font;
    private double fontSize;
    private double lineHeight;
    private Color textColor;

    // getter ìƒëµ ...
}

public class Text {

    private String text;

    public void renderText(String text, Font font, double fontSize, double lineHeight, Color textColor) {
        // something ...
    }
}

public class UserInterface {

    private Text text;
    private UiSettings uiSettings;

    public void displayMessage(String message) {
        text.renderText(message, uiSettings.getFont(), uiSettings.getFontSize(), uiSettings.getLineHeight(), uiSettings.getTextColor());
    }
}
```

<br>

#### ğŸ§ ê·¸ë˜ì„œ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?

- ì•„ë˜ TextOptions í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ê´€ë ¨ ìˆëŠ” ë°ì´í„°ë¥¼ ì˜®ê¸´ë‹¤ë©´ ë‚˜ì¤‘ì— ë³€ê²½ì‚¬í•­ì´ ìˆìœ¼ë©´ TextOptions í´ë˜ìŠ¤ì™€ Text í´ë˜ìŠ¤ ë¿ì´ë¯€ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

```java
public class UiSettings {

    private TextOptions textOptions;
    
    public TextOptions getTextStyle() {
        return textOptions;
    }
}

public class TextOptions {

    private Font font;
    private double fontSize;
    private double lineHeight;
    private Color textColor;

    // getter ìƒëµ ...
}

public class UserInterface {

    private Text text;
    private UiSettings uiSettings;

    public void displayMessage(String message) {
        text.renderText(message, uiSettings.getTextStyle());
    }
}

public class Text {

    private String text;

    public void renderText(String text, TextOptions textOptions) {
        // something ...
    }
}
```

<br>

## 6. ë°˜í™˜ ìœ í˜•ì— ì„¸ë¶€ êµ¬í˜„ ì •ë³´ê°€ ìœ ì¶œë˜ì§€ ì•Šë„ë¡ í•´ë¼

#### ì˜ˆì‹œ ì½”ë“œ

- ì•„ë˜ ì˜ˆì‹œ ì½”ë“œëŠ” ê²°ì œê°€ ì´ë£¨ì–´ì§„ ë‹¤ìŒ ê²°ì œê°€ ì„±ê³µí–ˆê±°ë‚˜, ì‹¤íŒ¨í–ˆê±°ë‚˜ ë“±ì˜ ì •ë³´ë¥¼ HttpResponseë¡œ í‰ì²˜ë²„ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê²°êµ­ í˜¸ì¶œìê°€ ì•Œì•„ì„œ í•¸ë“¤ë§ì„ í•˜ë¼ëŠ” ê²ƒì´ê³  ì´ë ‡ê²Œ í•˜ë©´ KaKaoPayProvider í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ê°ê¸°ë‹¤ë¥¸ ê°œë°œìì˜ ìŠ¤íƒ€ì¼ë§ˆë‹¤ ì²˜ë¦¬í•˜ê²Œ ë˜ê³  ì¼ê´€ì„±ì´ ì—†ê²Œë˜ê³ , ì‘ë‹µ ì„¸ë¶€ ì‚¬í•­ì— ì˜ì¡´í•˜ê²Œ ë©ë‹ˆë‹¤.

```java
public class PaymentService {

    private final KaKaoPayProvider kaKaoPayProvider;

    public PaymentService(KaKaoPayProvider kaKaoPayProvider) {
        this.kaKaoPayProvider = kaKaoPayProvider;
    }

    public void pay() {
        HttpResponse<?> payResponse = kaKaoPayProvider.pay();
        // something ...
    }
}

public class KaKaoPayProvider {

    @Override
    public HttpResponse<?> pay() {

        // apië¥¼ í†µí•´ ê²°ì œë¥¼ ìš”ì²­ì„ í•˜ê³  í•´ë‹¹ ë‚´ìš©ì„ ë°˜í™˜í•œë‹¤
    }
}
```

<br>

#### ğŸ§ ê·¸ë˜ì„œ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?

- ë°˜í™˜ ìœ í˜•ì—ëŠ” í•„ìš”ë¡œí•˜ëŠ” ê²ƒë§Œ ë°˜í™˜í•˜ë„ë¡ í•©ë‹ˆë‹¤. ê²°ì œê°€ ì„±ê³µí–ˆëŠ”ì§€, ì‹¤íŒ¨í–ˆëŠ”ì§€ëŠ” pay ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•  ê²ƒì´ì§€ ì´ë¥¼ í˜¸ì¶œí•˜ëŠ” í˜¸ì¶œìê°€ ì‹ ê²½ì“¸ ë‚´ìš©ì´ ì•„ë‹™ë‹ˆë‹¤. í˜¸ì¶œìëŠ” ê²°ì œê°€ ì •ìƒì ìœ¼ë¡œ ì„±ê³µí•˜ê¸°ë§Œì„ ê¸°ëŒ€í•˜ë©´ ë©ë‹ˆë‹¤.
- ë˜í•œ ë°˜í™˜ ìœ í˜•ì—ëŠ” í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°ë§Œ ë‹´ì•„ì„œ ë°˜í™˜í•˜ë©´ ë©ë‹ˆë‹¤.

```java
public class KaKaoPayProvider {

    @Override
    public PayResponse pay() {

        // apië¥¼ í†µí•´ ê²°ì œë¥¼ ìš”ì²­ì„ í•˜ê³  ìƒìš©í•˜ëŠ” ê°’ë§Œ ë°˜í™˜í•œë‹¤
        // ë§Œì•½ ê²°ì œê°€ ì‹¤íŒ¨í•˜ë©´ ì‹¤íŒ¨ ì •ì±…ì— ë”°ë¼ ì¬ì‹œë„ë¥¼ í•œë‹¤
    }
}
```


