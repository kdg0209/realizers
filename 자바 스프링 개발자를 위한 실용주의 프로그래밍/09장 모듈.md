# 모듈

### ❓ 퀴즈: 모듈이나 모듈 시스템이란 무엇일까요?

- 모듈은 독립적인 코드 묶음입니다.
- 자바에서 모듈 시스템은 패키지입니다.
- 자바 9에서 모듈 시스템은 module-info.java 입니다.
- 독립적인 외부 라이브러리입니다. (개인적인 생각)

#### 📜 정답은?

- 정답은 다 틀렸습니다. 답변이 모두 모듈이나 모듈 시스템이 무엇인지 설명하기보다는 자바의 몇 가지 기능에 빗대어 설명하기 때문입니다.


#### 💡 진짜 정답은?

- 모듈은 '독립성'과 '은닉성'을 만족해야 합니다. 그리고 모듈 시스템은 모듈을 만들기 위한 시스템으로서 모듈에 대한 의존성 관리와 캡슐화 기능을 제공해야 합니다.

<br>

## 1. 모듈성

- 모듈이라는 용어는 소프트웨어 공학에서만 사용하는게 아니라 일상에서도 사용되기 때문에 추상적입니다.

#### 소프트웨어 분야에서 모듈이란?

```text
독립적인 하나의 소프트웨어 요소입니다.
즉 어떤 목적을 수행하기 위해 분리된 작은 구성 단위를 의미합니다.
```

#### 책 저자님의 관점

```text
소프트웨어 관점에서 모듈이란 '독립성'과 '은닉성'을 만족하며 연관된 코드들의 묶음입니다.
독립성: 모듈은 독립적이어야 합니다.
은닉성: 모듈의 사용자는 모듈의 내부 구현을 몰라도 됩니다. 즉 공개된 인터페이스를 이용해 통신합니다.
```

#### 모듈 시스템이란?

```text
모듈 시스템이란 연관된 코드 묶음이 '독립성'과 '은닉성'을 갖출 수 있도록 도와주는 시스템적인 해결책입니다. 모듈 시스템은 다음과 같은 기능이 있어야 합니다.
의존성 관리: 모듈을 사용하기 위해 어떤 의존성이 필요한지 명시할 수 있어야 합니다.
캡슐화: 모듈은 불필요한 구현을 외부로 드러내지 않습니다.
```

#### 즉!

1. 모듈은 연관된 코드의 묶음이 '독립성'과 '은닉성'을 갖추고 있어야 합니다.
2. '독립성'과 '은닉성'은 모듈 시스템이 지원해줘야 합니다.
3. 모듈 시스템은 '독립성'을 지원하기 위해 의존성 관리 기능을 지원해야 합니다.
4. 모듈 시스템은 '은닉성'을 지원하기 위해 캡슐화 기능을 지원해야 합니다.

#### 예제 코드

- 아래 자바스크립트 코드와 자바 코드가 있는데, 자바 코드의 경우 module-info.java에 선언되어 있습니다.

```javascript
// 자바스크립트 소스 코드
import * as log4js from "log4js";

const logger = log4js.getLogger();

function print() {
  console.log("print");
}

export function printHelloWorld() {
  console.log("printHelloWorld");
}

// 자바 소스 코드(module-info.java)
module myproject.main {
  requires org.apache.httpcomponents.httpclient;
  exports com.myorg.myproject.model;
}
```

<br>

#### 🧐 자바에는 module-info.java 말고 모듈이라는게 없나?

- 자바 9부터 모듈 디스크립터가 추가되었는데, 자바 8버전 이전에는 모듈 시스템이 없었을까요?
  - 그렇습니다. 실제로 자바 9가 나오기 전까지는 모듈 시스템이 존재하지 않는다고 평가하기도 합니다.
 
#### 💡 모듈 디스크립터가 중한게 아녀

- 자바 8, 11, 17 버전을 사용하더라도 우리는 모듈처럼 개발을 해야합니다.
- 즉 버전에 상관없이 '독립성'과 '은닉성'을 이해하고 이를 어떻게 적용할 있을까를 고민해야 합니다. 그러다 보면 모듈이라는게 따라오지 않을까요?

<br>

### 1-1. 독립성

- '독립성'에 대해 주구장창 얘기를 했습니다. 근데 독립성이 무엇일까요?

#### 독립성

- 각 모듈을 개별적으로 수정하거나 교체할 수 있어야 한다는 뜻입니다.
- 독립적이어야 하는 이유는 유지보수성, 확장성, 코드 재사용성을 높이기 위함입니다.

#### 독립성을 어떻게 지켜야할까?

- 소프트웨어 개발은 우선 다른 객체와 협력을 통해 목적을 달성하는 것입니다. 따라서 의존 관계를 아예 없앨 수는 없습니다. 하지만 '약한 의존 관계'를 만들 수 있도록 해야하는 것입니다.

<br>

### 1-2 은닉성

- 모듈은 은닉성을 추구해야 하는데, 즉 모듈도 캡슐화가 가능해야 합니다.
- 우리는 모듈을 외부에 공유하더라도 공개된 인터페이스 이외에 불필요한 정보를 숨겨야 합니다.
- 모듈을 사용한다는 의미가 모듈의 모든 기능을 사용할 수 있게 된다는 의미가 아니라, 모듈의 사용자는 모듈이 책임지는 공개된 일부 기능에만 접근할 수 있어야 합니다. 그래야 내부 구현이 변경되더라도 사용자에게 주는 영향의 범위를 줄일 수 있습니다.

<br>

### 정리

- 모듈이란 무엇인가?
  - 모듈은 관련된 코드의 묶음으로 '독립성'과 '은닉성'을 갖추고 있어야 합니다.
 
- 모듈 시스템이란 무엇인가?
  - 모듈은 '독립성'과 '은닉성'을 가지고 있는데 이를 지원해주는 시스템입니다. 즉 '독립성'을 지원하기 위해 의존성 관리 지원, '은닉성'을 지원하기 위해 캡슐화를 지원해야 합니다.

- 개인적인 생각
  - 모듈을 만들 때 '독립성'과 '은닉성'을 지켜야지 한다는 생각보다는 객체를 만들 때 또는 무엇가를 만들 때 필요한 개념이라 생각하고 이를 어떻게 하면 평상시에도 적용할 수 있을까? 습관이 되어야 할 거 같습니다.




