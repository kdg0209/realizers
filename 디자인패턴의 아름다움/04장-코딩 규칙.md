# 코딩 규칙

- 설계 원칙과 디자인 패턴은 추상적인 경우가 많고, 사용 시 개인의 경험에 크게 의존하지만 코딩 규칙은 간단할 뿐만 아니라 명확해서 코딩 규칙에 따라 코드를 작성하면 코드의 품질을 향상시킬 수 있습니다.

## 명명과 주석

#### 긴 이름과 짧은 이름

- 클래스명, 메서드명, 변수명에 긴 이름을 붙이는 것을 선호하는 사람은 이름에 목적이 드러나는것을 선호하는 경향이 있으며, 짧은 것을 선호하는 사람은 간결성을 선호하는 경향이 있습니다.
- 내 개인적인 생각은 '어느정도' 짧은 것을 선호하는 편인것 같습니다. 예를들어 메서드명의 경우 내부 구현을 메서드명으로 담기 보다는 메서드명 같은 경우는 일반적이고 목적만을 드러내면 좋다고 생각합니다.

#### 문맥 정보를 사용한 명명 단순화

- 아래와 같은 클래스가 있을 경우 User 클래스에 userXXX 속성이 존재하는데 굳이 prefix를 둘 필요가 없습니다.
- 아래 메서드명을 보면 이미지를 Aws에 업로드를 하는데 메서드명에 어딘가에 업로드를 한다라는 것을 내포할 필요가 있을까? 라는 생각도 듭니다. 어딘가 업로드한다라는 것은 세부 구현 사항이기 때문에 필요없다고 생각합니다.

```java
public class User {

    private final long userId;
    private final String userName;
    private final String userEmail;
    private final String userAvatarUrl;
    
    public void uploadUserAvatarImageToAws(String avatarUrl) {
        
    }

    // 아래 메서드명을 더 선호
    public void uploadAvatarImage(String avatarUrl) {

    }
}
```

<br>

#### 비지니스 용어집을 사용한 명명 통일

- 각 개발자마다 영어 수준이 달라 클래스명, 메서드명, 변수명을 지을 때 각자의 비지니스 용어 변역이 다르기 때문에 코드의 가독성이 저하될 수 있습니다. 이때 비지니스 용어집을 준비하면 이 문제를 해결할 수 있습니다.
- 효율적으로 일을 하기 위해서 클래스, 메서드명, 변수명에 사용되는 일반적인 단어 목록을 정의하고, 팀에서 유비쿼터스 언어를 구성해놓으면 좋을거 같습니다.

#### 명명은 정확해야하지만, 추상적이어야 한다.

- 프로젝트에 process, handle, provider와 같은 추상적이고 광범위한 단어를 포함하는 이름이 많을 경우, 해당 이름이 정확한지 조금 더 구체적인 의미로 표현할 수는 없는지 많은 고민을 해야합니다.

#### 주석에 반드시 포함되어야 하는 것들

- 일부 프로그래머는 좋은 명명이 주석을 대체할 수 있으며, 만약 주석이 필요하다면 명명이 충분히 적합하지 않다는 뜻으로 주석을 추가하는 대신 명명을 다시 고려해야한다는 견해를 가지지만 이는 너무 편향적일 수 있습니다.
- 개인적으로도 처음에는 좋은 명명이 주석을 대체할 수 있다고 생각하였는데, 실제 작업을 하다보면 좋은 명명임이라 생각함에도 주석은 필요하다 생각이 듭니다. 사람의 기억은 휘발성이기 때문에 히스토리를 작성해 놓는 것이 좋다 생각합니다.

#### 주석이 많다고 좋은 것은 아니다.

- 주석이 너무 많으면 종종 코드의 가독성이 떨어질 수 있으며, 코드 작성자는 주석 또한 작성하고 유지 관리해야 합니다. 코드는 수정했으나 주석을 수정하지 않은 경우 논리가 일치하지 않는 일이 발생할 수 있습니다.

<br>

## 코드 스타일

#### 클래스, 함수의 적절한 크기

- 클래스나 함수에 코드 라인이 너무 많아도 안되며, 너무 적어도 안됩니다. 이는 너무 추상적이고, 어느 정도가 큰것인지, 작은 것인지 판단하는 기준이 없기 때문입니다.
- 개인적으로 클래스는 하나의 역할과 책임만을 가지게하라, 함수는 5라인이 넘지마라 라는 규칙이 있는데 이를 지켰을 때 과연 가독성이 좋아지는가? 너무 쪼개서 가독성이 더 낮아지는게 아닌가? 라는 생각도 하는데 모든것을 만족하는 것은 없다고 생각합니다.

#### 코드 스타일 가이드 라인

- 개인적으로 코드 스타일은 팀 전체 생상성 측면에서 정말 중요하다고 생각하는데, 코드 스타일 같은 경우는 전박적으로 네이버나 구글에서 제시하는 스타일을 따르고 구체적인 사항은 팀에서 논의 후 적용하는 것이 좋은거 같다.

<br>

## 코딩 팁

#### 복잡한 코드의 모듈화

- 코드를 작성할 때 우리는 모듈에 대한 생각을 항상 해야하며, 복잡한 코드의 커다란 블록을 클래스나 함수로 잘게 쪼개는데 능숙할 필요가 있습니다.

#### 함수의 매개변수 관리

- 함수에 매개변수가 너무 많으면 함수를 읽거나 사용하기에 너무 불편합니다. 함수의 매개변수의 개수는 보통 5개가 적당하다고 하며, 매개변수가 너무 많은것은 그 함수가 단일 책임을 지키지 못한다는 반증이기도 합니다.

#### 함수의 플래그 매개변수 제거

- 메서드의 boolean 매개변수를 통해 메서드 내부에서 논리가 달라질 수 있도록 코딩을 할 수 있는데, 이는 단일 책임 원칙과 인터페이스 분리 원칙을 위반합니다.
- 

```java
// 예제 1
public void buy(long userId, long point, boolean isVip) {
    
    if (isVip) {
        // vip 비지니스 로직
        return;
    }
    
    // 일반 비지니스 로직
    
}

// 예제 2 (예제 표현이 개인적으로 이상하다 생각하여 수정)
public List<String> selectUserName(Long userId, LocalDate startDate, LocalDate endDate) {
        
    if (startDate != null && endDate != null) {
        return selectBetween(userId, startDate, endDate);
    }

    if (startDate != null && endDate == null) {
        return selectStartWith(userId, startDate);
    }

    if (startDate == null && endDate != null) {
        return selectEndWith(userId, endDate);
    }

    return selectAll(userId);
}

private List<String> selectBetween(Long userId, LocalDate startDate, LocalDate endDate) {

}

private List<String> selectStartWith(Long userId, LocalDate startDate) {

}

private List<String> selectEndWith(Long userId, LocalDate endDate) {

}

private List<String> selectAll(Long userId) {

}
```

#### 깊은 중첩 코드 제거

- if-else, switch-case, for, CompletableFuture를 사용하다 보면 과도한 중첩으로 인해 가독성이 낮아질 수 있습니다. 이때 중첩을 하지 않고 어떻게 중첩을 방지할 수 있을까 고민해봐야 합니다.

#### 설명 변수 

- 설명 변수는 코드 가독성을 향상 시키고 불필요한 주석을 줄일 수 있습니다.
- 매직 넘버 대신 상수를 사용하거나, 임시 변수를 사용하고 임시 변수명에 좋은 명명을 정의하여 복잡한 표현을 설명합니다.

<br>

## 생각해볼만한 내용

- 클래스나 메서드의 적절한 크기는 어느정도인가?
- 메서드의 매개변수는 몇 개가 적당하고, 매개변수가 많으면 그 함수가 단일 책임 원칙을 지키지 못한다는 반증인데 이에 동의하는가? [3~4개가 적당하며, 후자 내용에 동의함]





