#  êµ¬ì¡° ë””ìì¸ íŒ¨í„´

## í”„ë¡ì‹œ íŒ¨í„´

- í”„ë¡ì‹œ íŒ¨í„´ì€ ì›ë³¸ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëŒ€ì‹ , ì›ë³¸ í´ë˜ìŠ¤ì— ëŒ€í•œ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í”„ë¡ì‹œ íŒ¨í„´ì˜ ëª©ì ì€ ê¸°ëŠ¥ í–¥ìƒì´ ì•„ë‹Œ í´ë˜ìŠ¤ë¥¼ ì™¸ë¶€ì—ì„œ ì œì–´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.(ë°ì½”ë ˆì´í„° íŒ¨í„´ê³¼ ì°¨ì´ì )
- í”„ë¡ì‹œ íŒ¨í„´ì€ ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ê³¼ ìƒì† ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì œëŠ” ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤.
- í”„ë¡ì‹œ íŒ¨í„´ì—ëŠ” ê¸°ë³¸í˜•, ê°€ìƒ, ë³´í˜¸, ë¡œê¹…, ì›ê²©, ìºì‹± í”„ë¡ì‹œê°€ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ê¸°ë³¸í˜•, ê°€ìƒ, ë¡œê¹…, ìºì‹±ì— ëŒ€í•´ì„œë§Œ ì‚´í„ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.

### í”„ë¡ì‹œ íŒ¨í„´ì˜ êµ¬ì¡°

- í”„ë¡ì‹œ íŒ¨í„´ì˜ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´ Proxy í´ë˜ìŠ¤ì™€ RealSubject í´ë˜ìŠ¤ëŠ” Subject í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆìœ¼ë©°, Proxy í´ë˜ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Subject í´ë˜ìŠ¤ì—ê²Œ ì–´ë– í•œ í–‰ë™ì„ ìœ„ì„ì‹œí‚µë‹ˆë‹¤.

<img width="1032" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-25 á„‹á…©á„’á…® 10 02 38" src="https://github.com/kdg0209/realizers/assets/80187200/2611c589-55df-4ce7-a9d0-83968104ec06">

<br>

### ê¸°ë³¸ í”„ë¡ì‹œ

- ê¸°ë³¸ í”„ë¡ì‹œëŠ” í–‰ìœ„ëŠ” RealSubjectì—ê²Œ ìœ„ì„ì„ í•˜ê³  í”„ë¡ì‹œì—ì„œëŠ” ì¶”ê°€ì ì¸ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
- í”„ë¡ì‹œ íŒ¨í„´ì—ì„œ í”„ë¡ì‹œ í´ë˜ìŠ¤ëŠ” ì›ë³¸ í´ë˜ìŠ¤ì™€ ê´€ë ¨ ì—†ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê°œì¸ì ìœ¼ë¡œ ê¸°ë³¸ í”„ë¡ì‹œëŠ” ìì£¼ ì‚¬ìš©ë ì§€ëŠ” ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.

```java
public interface ProductSubject {

    void addProduct(Product product);

    Optional<Product> buyProduct(Long id);
}

public class ProductRealSubject implements ProductSubject {

    private final List<Product> products = new ArrayList<>();

    @Override
    public void addProduct(Product product) {
        this.products.add(product);
    }

    @Override
    public Optional<Product> buyProduct(Long id) {
        if (id == null) {
            return Optional.empty();
        }

        return this.products.stream()
                .filter(product -> product.isEqualsId(id))
                .findFirst();
    }
}

public class ProductProxy implements ProductSubject {

    private final ProductSubject subject;

    public ProductProxy(ProductSubject subject) {
        this.subject = subject;
    }

    @Override
    public void addProduct(Product product) {

        // ìœ„ì„
        this.subject.addProduct(product);
    }

    @Override
    public Optional<Product> buyProduct(Long id) {

        // ìœ„ì„
        return this.subject.buyProduct(id);
    }
}

public class Main {

    public static void main(String[] args) {
        Product productA = new Product(1L, "ì•„ì´í°", 1000000L);
        Product productB = new Product(2L, "ë§¥ë¶", 2000000L);

        ProductProxy proxy = new ProductProxy(new ProductRealSubject());

        proxy.addProduct(productA);
        proxy.addProduct(productB);

        Optional<Product> buyA = proxy.buyProduct(1L);
        System.out.println(buyA.isPresent());       // true

        Optional<Product> buyB = proxy.buyProduct(3L);
        System.out.println(buyB.isPresent());       // false
    }
}
```

<br>

### ê°€ìƒ í”„ë¡ì‹œ

- ê°€ìƒ í”„ë¡ì‹œëŠ” ì§€ì—° ì´ˆê¸°í™” ë°©ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤.
- ì´ ë°©ì‹ì€ ì‹¤ì œ ê°ì²´ ìƒì„± ë¹„ìš©ì€ ë¹„ì‹¸ì§€ë§Œ ì‚¬ìš©ë˜ëŠ” ë¹ˆë„ê°€ ë‚®ì€ ê²½ìš°ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

```java
public interface ProductSubject {

    void addProduct(Product product);

    Optional<Product> buyProduct(Long id);
}

public class ProductRealSubject implements ProductSubject {

    private final List<Product> products = new ArrayList<>();

    @Override
    public void addProduct(Product product) {
        this.products.add(product);
    }

    @Override
    public Optional<Product> buyProduct(Long id) {
        if (id == null) {
            return Optional.empty();
        }

        return this.products.stream()
                .filter(product -> product.isEqualsId(id))
                .findFirst();
    }
}

public class ProductProxy implements ProductSubject {

    private ProductSubject subject;

    @Override
    public void addProduct(Product product) {

        // lazy
        if (this.subject == null) {
            this.subject = new ProductRealSubject();
        }

        // ìœ„ì„
        this.subject.addProduct(product);
    }

    @Override
    public Optional<Product> buyProduct(Long id) {

        // lazy
        if (this.subject == null) {
            this.subject = new ProductRealSubject();
        }

        // ìœ„ì„
        return this.subject.buyProduct(id);
    }
}

public class Main {

    public static void main(String[] args) {
        Product productA = new Product(1L, "ì•„ì´í°", 1000000L);
        Product productB = new Product(2L, "ë§¥ë¶", 2000000L);

        ProductProxy proxy = new ProductProxy();

        proxy.addProduct(productA);
        proxy.addProduct(productB);

        Optional<Product> buyA = proxy.buyProduct(1L);
        System.out.println(buyA.isPresent());       // true

        Optional<Product> buyB = proxy.buyProduct(3L);
        System.out.println(buyB.isPresent());       // false
    }
}
```

<br>

### ë¡œê¹… í”„ë¡ì‹œ

- ë¡œê¹… í”„ë¡ì‹œë„ ê¸°ë³¸í˜• í”„ë¡ì‹œì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤.

```java
public interface ProductSubject {

    void addProduct(Product product);

    Optional<Product> buyProduct(Long id);
}

public class ProductRealSubject implements ProductSubject {

    private final List<Product> products = new ArrayList<>();

    @Override
    public void addProduct(Product product) {
        this.products.add(product);
    }

    @Override
    public Optional<Product> buyProduct(Long id) {
        if (id == null) {
            return Optional.empty();
        }

        return this.products.stream()
                .filter(product -> product.isEqualsId(id))
                .findFirst();
    }
}

public class ProductProxy implements ProductSubject {

    private final ProductSubject subject;

    public ProductProxy(ProductSubject subject) {
        this.subject = subject;
    }

    @Override
    public void addProduct(Product product) {
        long startTime = System.currentTimeMillis();

        // ìœ„ì„
        this.subject.addProduct(product);

        long endTime = System.currentTimeMillis();

        System.out.println("completed time: " + (endTime - startTime));
    }

    @Override
    public Optional<Product> buyProduct(Long id) {
        long startTime = System.currentTimeMillis();

        // ìœ„ì„
        Optional<Product> result = this.subject.buyProduct(id);

        long endTime = System.currentTimeMillis();

        System.out.println("completed time: " + (endTime - startTime));

        return result;
    }
}

public class Main {

    public static void main(String[] args) {
        Product productA = new Product(1L, "ì•„ì´í°", 1000000L);
        Product productB = new Product(2L, "ë§¥ë¶", 2000000L);

        ProductProxy proxy = new ProductProxy(new ProductRealSubject());

        proxy.addProduct(productA);
        proxy.addProduct(productB);

        Optional<Product> buyA = proxy.buyProduct(1L);
        System.out.println(buyA.isPresent());       // true

        Optional<Product> buyB = proxy.buyProduct(3L);
        System.out.println(buyB.isPresent());       // false
    }
}
```

<br>

### ìºì‹± í”„ë¡ì‹œ

- ìºì‹± í”„ë¡ì‹œëŠ” ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ì¸ë°, ì´ëŠ” Redisë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹±ì„ ì ìš©í•˜ëŠ”ê²ƒê³¼ ë¹„ìŠ·í•œ ì›ë¦¬ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-25 á„‹á…©á„’á…® 10 50 04](https://github.com/kdg0209/realizers/assets/80187200/3e505420-c6fe-4af2-8e8b-3226102456e1)

<br>

## ë°ì½”ë ˆì´í„° íŒ¨í„´

- ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ì›ë³¸ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ì—†ì´ë„ ì›ë³¸ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê³ , ì—¬ëŸ¬ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì›ë³¸ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ê°ì²´ë¥¼ ê²°í•©í•˜ì—¬ ê¸°ëŠ¥ì„ ë™ì ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- ë°ì½”ë ˆì´í„° íŒ¨í„´ì—ì„œ ë°ì½”ë ˆì´í„° í´ë˜ìŠ¤ëŠ” ì›ë³¸ í´ë˜ìŠ¤ì™€ ê´€ë ¨ì´ ê¹Šì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
- Javaì—ì„œ I/O ë¼ì´ë¸ŒëŸ¬ë¦¬(InputStream, OutputStream)ì€ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

### ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì ìš©í•˜ì§€ ì•Šì€ ìƒí™©

- ì•„ë˜ ì˜ˆì œ ì½”ë“œì—ì„œ ê¸°ë³¸ì ì¸ ì´ì€ ì¡°ì¤€, ê²¬ì°©, ì‚¬ê²©ì„ í•  ìˆ˜ ìˆì§€ë§Œ ìŠ¤ë‚˜ì´í¼ì˜ ê²½ìš° 4ë°°ìœ¨ì„ ì‚¬ìš©í•´ì„œ ì¡°ì¤€ì„ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¼ì´í”Œ, ìœ íƒ„ë“±ê³¼ ê°™ì€ ë‹¤ë¥¸ ì´ë“¤ì´ í•„ìš”ë¡œí•˜ê²Œ ëœë‹¤ë©´ ìƒì†ì˜ ê²½ìš° ê¹Šì€ ìƒì† ê´€ê³„ë¡œ ì¸í•´ ê²°í•©ë„ê°€ ë†’ì•„ì§€ê²Œ ë©ë‹ˆë‹¤.

```java
public class Gun {

    public void aiming() {
        System.out.println("ì¡°ì¤€í•©ë‹ˆë‹¤.");
    }

    public void shoulder() {
        System.out.println("ê²¬ì°©í•©ë‹ˆë‹¤.");
    }

    public void shooting() {
        System.out.println("ì‚¬ê²©í•©ë‹ˆë‹¤.");
    }
}

public class Sniper extends Gun {

    @Override
    public void aiming() {
        System.out.println("4ë°°ìœ¨ë¡œ ì¡°ì¤€í•©ë‹ˆë‹¤.");
    }

    @Override
    public void shoulder() {
        super.shoulder();
    }

    @Override
    public void shooting() {
        super.shooting();
    }
}
```

<br>

### ğŸ§ ë°ì½”ë ˆì´í„° íŒ¨í„´ ì ìš©

- ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ new ì¥ì‹ì(new ì›ë³¸()) í˜•ì‹ìœ¼ë¡œ ì¥ì‹ìë¥¼ ë‹¤ì–‘í•˜ê²Œ ê¾¸ë°€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¥ì‹ì í´ë˜ìŠ¤ì˜ ì˜ëª»ëœ ìˆœì„œë¡œ ì¸í•´ ê°œë°œìê°€ ì˜ë„í•˜ì§€ ì•Šì€ëŒ€ë¡œ ë™ì‘ë  ìˆ˜ ìˆìœ¼ë‹ˆ ì¥ì‹ì ìˆœì„œì— ëŒ€í•´ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.

```java
public interface Gun {

    void aiming();

    void shoulder();

    void shooting();
}

// ê¸°ë³¸ ì´
public class BaseGun implements Gun {

    @Override
    public void aiming() {
        System.out.println("ì¡°ì¤€í•©ë‹ˆë‹¤.");
    }

    @Override
    public void shoulder() {
        System.out.println("ê²¬ì°©í•©ë‹ˆë‹¤.");
    }

    @Override
    public void shooting() {
        System.out.println("ì‚¬ê²©í•©ë‹ˆë‹¤.");
    }
}

// ì¥ì‹ì ì¶”ìƒ í´ë˜ìŠ¤
public abstract class GunDecorator implements Gun {

    private final Gun gun;

    public GunDecorator(Gun gun) {
        this.gun = gun;
    }

    @Override
    public void aiming() {
        this.gun.aiming();
    }

    @Override
    public void shoulder() {
        this.gun.shoulder();
    }

    @Override
    public void shooting() {
        this.gun.shooting();
    }
}

public class GrenadeLauncher extends GunDecorator {

    public GrenadeLauncher(Gun gun) {
        super(gun);
    }

    @Override
    public void shooting() {
        System.out.println("ìœ íƒ„ì„ ë°œì‚¬í•©ë‹ˆë‹¤.");
    }
}

public class Sniper extends GunDecorator  {

    public Sniper(Gun gun) {
        super(gun);
    }

    @Override
    public void aiming() {
        System.out.println("4ë°°ìœ¨ë¡œ ì¡°ì¤€í•©ë‹ˆë‹¤.");
    }
}

public class GrenadeLauncher extends GunDecorator {

    public GrenadeLauncher(Gun gun) {
        super(gun);
    }

    @Override
    public void shooting() {
        System.out.println("ìœ íƒ„ì„ ë°œì‚¬í•©ë‹ˆë‹¤.");
    }
}

public class AllInOneGun extends GunDecorator {

    public AllInOneGun(Gun gun) {
        super(gun);
    }
}

public class Main {

    public static void main(String[] args) {

        // ê¸°ë³¸ ì´
        Gun baseGun = new BaseGun();
        baseGun.shoulder();     // ê²¬ì°©í•©ë‹ˆë‹¤.
        baseGun.aiming();       // ì¡°ì¤€í•©ë‹ˆë‹¤.
        baseGun.shooting();     // ì‚¬ê²©í•©ë‹ˆë‹¤.

        // ì €ê²©ì´
        Gun sniper = new Sniper(new BaseGun());
        sniper.shoulder();      // ê²¬ì°©í•©ë‹ˆë‹¤.
        sniper.aiming();        // 4ë°°ìœ¨ë¡œ ì¡°ì¤€í•©ë‹ˆë‹¤.
        sniper.shooting();      // ì‚¬ê²©í•©ë‹ˆë‹¤.

        // ìœ íƒ„ë°œì‚¬ê¸°
        Gun grenadeLauncher = new GrenadeLauncher(new BaseGun());
        grenadeLauncher.shoulder(); // ê²¬ì°©í•©ë‹ˆë‹¤.
        grenadeLauncher.aiming();   // ì¡°ì¤€í•©ë‹ˆë‹¤.
        grenadeLauncher.shooting(); // ìœ íƒ„ì„ ë°œì‚¬í•©ë‹ˆë‹¤.

        // ì˜¬ì¸ì› ì´
        Gun allInOneGun = new AllInOneGun(new Sniper(new GrenadeLauncher(new BaseGun())));
        allInOneGun.shoulder(); // ê²¬ì°©í•©ë‹ˆë‹¤.
        allInOneGun.aiming();   // 4ë°°ìœ¨ë¡œ ì¡°ì¤€í•©ë‹ˆë‹¤.
        allInOneGun.shooting(); // ìœ íƒ„ì„ ë°œì‚¬í•©ë‹ˆë‹¤.
    }
}
```

<br>

## ì–´ëŒ‘í„° íŒ¨í„´

- ì–´ëŒ‘í„° íŒ¨í„´ì€ ì¸í„°í˜ì´ìŠ¤ì˜ ë¹„í˜¸í™˜ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ íŒ¨í„´ì…ë‹ˆë‹¤.

#### ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•˜ì§€ ì•Šì€ ìƒí™©

- ì•„ë˜ ì˜ˆì œì—ì„œ ì•„ì´í° ì¶©ì „ê¸°ë§Œ ìˆëŠ” ìƒí™©ì—ì„œ ì‚¼ì„±í°ì„ ì¶©ì „í•˜ê³ ì í•œë‹¤ë©´ ì¶©ì „ê¸° íƒ€ì…ì´ ë§ì§€ ì•Šì•„ ì¶©ì „ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë•Œ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
public interface IPhoneCharger {

    String charge();
}

public class ApplePhone implements IPhoneCharger {

    @Override
    public String charge() {
        return "ì•„ì´í° ì¶©ì „ì¤‘ì…ë‹ˆë‹¤.";
    }
}
```

<br>

### ğŸ§ ì–´ëŒ‘í„° íŒ¨í„´ ì ìš©

```java
public interface IPhoneCharger {

    String charge();
}

public class ApplePhone implements IPhoneCharger {

    @Override
    public String charge() {
        return "ì•„ì´í° ì¶©ì „ì¤‘ì…ë‹ˆë‹¤.";
    }
}

public class Adapter implements IPhoneCharger {

    private SamsungPhone samsungPhone;

    public Adapter(SamsungPhone samsungPhone) {
        this.samsungPhone = samsungPhone;
    }

    @Override
    public String charge() {
        return samsungPhone.chargeSamsungPhone();
    }
}

public class SamsungPhone {

    public String chargeSamsungPhone() {
        return "ì‚¼ì„±í°ì„ ì¶©ì „ì¤‘ì…ë‹ˆë‹¤.";
    }
}

public class Main {

    public static void main(String[] args) {
        IPhoneCharger applePhone = new ApplePhone();
        SamsungPhone samsungPhone = new SamsungPhone();
        Adapter adapter = new Adapter(samsungPhone);

        System.out.println(applePhone.charge());    // ì•„ì´í° ì¶©ì „ì¤‘ì…ë‹ˆë‹¤.
        System.out.println(adapter.charge());       // ì‚¼ì„±í°ì„ ì¶©ì „ì¤‘ì…ë‹ˆë‹¤.
    }
}
```

<br>

### í´ë˜ìŠ¤ ì–´ëŒ‘í„°ì™€ ê°ì²´ ì–´ëŒ‘í„°

#### í´ë˜ìŠ¤ ì–´ëŒ‘í„°

- í´ë˜ìŠ¤ ì–´ëŒ‘í„°ëŠ” ìƒì† ê¸°ë°˜ìœ¼ë¡œ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- í´ë˜ìŠ¤ ì–´ëŒ‘í„°ëŠ” Adapteeì™€ Target ì¸í„°í˜ì´ìŠ¤ì˜ ì •ì˜ê°€ ëŒ€ë¶€ë¶„ ê°™ì„ ê²½ìš° ì¸í„°í˜ì´ìŠ¤ ì¬ì‚¬ìš©ì„ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ë•ŒëŠ” í´ë˜ìŠ¤ ì–´ëŒ‘í„°ë¥¼ ì ìš©í•©ë‹ˆë‹¤.
- ì¦‰ í˜„ì¬ ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ ì™¸ë¶€ ì„œë“œíŒŒí‹°ì˜ ì¸í„°í˜ì´ìŠ¤ê°€ ê°™ì„ ê²½ìš°ì…ë‹ˆë‹¤.

#### ê°ì²´ ì–´ëŒ‘í„°

- ê°ì²´ ì–´ëŒ‘í„°ëŠ” í•©ì„± ê¸°ë°˜ìœ¼ë¡œ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
- ê°ì²´ ì–´ëŒ‘í„°ëŠ” Adapteeì™€ Target ì¸í„°í˜ì´ìŠ¤ì˜ ì •ì˜ê°€ ëŒ€ë¶€ë¶„ ë‹¤ë¥´ë‹¤ë©´ ìƒì† êµ¬ì¡°ë³´ë‹¤ ìœ ì—°í•œ í•©ì„± êµ¬ì¡°ë¡œ ê°ì²´ ì–´ëŒ‘í„°ë¥¼ ì ìš©í•©ë‹ˆë‹¤.
- ì¦‰ í˜„ì¬ ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ ì™¸ë¶€ ì„œë“œíŒŒí‹°ì˜ ì¸í„°í˜ì´ìŠ¤ê°€ ë§ì´ ë‹¤ë¥¸ ê²½ìš°ì…ë‹ˆë‹¤.

<br>

## ë¸Œë¦¿ì§€ íŒ¨í„´

- ë¸Œë¦¿ì§€ íŒ¨í„´ì€ í­ë°œì ì¸ ìƒì†ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- í•©ì„±ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.

### ë¸Œë¦¿ì§€ íŒ¨í„´ì˜ êµ¬ì¡°

<img width="1032" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-27 á„‹á…©á„’á…® 3 41 19" src="https://github.com/kdg0209/realizers/assets/80187200/1c8fa02c-4f66-431b-8df1-7498929592b8">

### ì˜ˆì œì½”ë“œ

- ì»µì„ ë§Œë“¤ë•Œ ì¬ì§ˆì€ í”Œë¼ìŠ¤í‹±, ì¢…ì´, ìœ ë¦¬ë“± ë‹¤ì–‘í•  ìˆ˜ ìˆìœ¼ë©°, ìƒ‰ìƒì€ ë¹¨ê°„, íŒŒë€, ê²€ì •ë“± ë‹¤ì–‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ ìƒì†ìœ¼ë¡œ í•´ê²°í•œë‹¤ë©´ M * Nì´ ë˜ë¯€ë¡œ í­ë°œì ì¸ ìƒì† ê´€ê³„ê°€ ë§Œë“¤ì–´ì§€ëŠ”ë° í•©ì„±ì„ ì‚¬ìš©í•˜ë©´ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜ˆì œì½”ë“œë¥¼ ë§Œë“¤ë©´ì„œ Cupì„ ì¶”ìƒí´ë˜ìŠ¤ë¡œ ë§Œë“¤ê³  í”Œë¼ìŠ¤í‹±ì»µ, ì¢…ì´ì»µê³¼ ê°™ì€ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë‘ì—ˆëŠ”ë° êµ³ì´ ìƒì†ê´€ê³„ë¥¼ ì‚¬ìš©í•´ì•¼í• ê¹Œ? ì¬ì§ˆë˜í•œ ìƒ‰ìƒì²˜ëŸ¼ í•©ì„±ì„ í†µí•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ ìƒì† ê´€ê³„ë¥¼ ì‚¬ìš©ì•ˆí•´ë„ ë ê±°ê°™ê¸´í•œë° ì´ë ‡ê²Œ ëœë‹¤ë©´ ì¡°ê¸ˆ ë” ë³µì¡í•´ì§ˆê±° ê°™ê¸´í•˜ë‹¤.

```java
// ìƒ‰ìƒ
public interface Color {

    String name();
}

public class RedColor implements Color {

    private String name;

    public RedColor(String name) {
        this.name = name;
    }

    @Override
    public String name() {
        return this.name;
    }
}

public class BlueColor implements Color {

    private String name;

    public BlueColor(String name) {
        this.name = name;
    }

    @Override
    public String name() {
        return this.name;
    }
}

public abstract class Cup {

    private Color color;

    public Cup(Color color) {
        this.color = color;
    }

    public Color getColor() {
        return this.color;
    }

    public abstract String color();
}

public class PaperCup extends Cup {

    public PaperCup(Color color) {
        super(color);
    }

    @Override
    public String color() {
        return super.getColor().name();
    }
}

public class PlasticCup extends Cup {

    public PlasticCup(Color color) {
        super(color);
    }

    @Override
    public String color() {
        return super.getColor().name();
    }
}

public class Main {

    public static void main(String[] args) {
        Color redColor = new RedColor("ë¹¨ê°„ìƒ‰");
        Color blueColor = new BlueColor("íŒŒë€ìƒ‰");
        Cup plasticRedCup = new PlasticCup(redColor);
        Cup plasticBlueCup = new PlasticCup(blueColor);
        Cup PaperRedCup = new PaperCup(redColor);
        Cup PaperBlueCup = new PaperCup(blueColor);

        System.out.println(plasticRedCup.color());   // ë¹¨ê°„ìƒ‰ì˜ í”Œë¼ìŠ¤í‹±ì»µ
        System.out.println(plasticBlueCup.color());  // íŒŒë€ìƒ‰ì˜ í”Œë¼ìŠ¤í‹±ì»µ
        System.out.println(PaperRedCup.color());     // ë¹¨ê°„ìƒ‰ì˜ ì¢…ì´ì»µ
        System.out.println(PaperBlueCup.color());    // íŒŒë€ìƒ‰ì˜ ì¢…ì´ì»µ
    }
}
```

<br>

## í¼ì‚¬ë“œ íŒ¨í„´

- í¼ì‚¬ë“œ íŒ¨í„´ì€ ë³µì¡í•œ ì‹œìŠ¤í…œì˜ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ê°„ëµí•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨ ì‹œìŠ¤í…œì˜ ë³µì¡ì„±ì„ ê°ì¶”ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- í¼ì‚¬ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì‹œìŠ¤í…œì˜ ë‚´ë¶€ ì‘ì—…ì„ ë‹¤ë£¨ì§€ ì•Šê³ , ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë§Œì„ ì‚¬ìš©í•˜ì—¬ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì˜ˆì œ ì½”ë“œ

```java
public class FileFacade {

    public String readFile(String fileName) {
        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            StringBuilder stringBuilder = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                stringBuilder.append(line);
                stringBuilder.append(System.lineSeparator());
            }
            return stringBuilder.toString();
        } catch (IOException e) {
            throw new IllegalStateException(e.getMessage());
        }
    }

    public void writeFile(String fileName, String content) {
        try (BufferedWriter writer = new BufferedWriter(new FileWriter(fileName))) {
            writer.write(content);
        } catch (IOException e) {
            throw new IllegalStateException(e.getMessage());
        }
    }
}

public class Main {

    public static void main(String[] args) {
        FileFacade fileFacade = new FileFacade();
        String fileName = "test.txt";
        String content = "Hello, World!";

        // íŒŒì¼ ì“°ê¸°
        fileFacade.writeFile(fileName, content);

        // íŒŒì¼ ì½ê¸°
        String readContent = fileFacade.readFile(fileName);
        System.out.println(readContent);
    }
}
```

<br>

#### í¼ì‚¬íŠ¸ íŒ¨í„´ì˜ ì‚¬ìš© ì‚¬ë¡€

1. í´ë¼ì´ì–¸íŠ¸ì—ì„œ í˜¸ì¶œí•˜ëŠ” APIë¥¼ ë¬¶ì–´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. BFFë„ ë„“ì€ ë²”ìœ„ì—ì„œ í¼ì‚¬ë“œ íŒ¨í„´ì˜ ì¼ì¢…ì´ ì•„ë‹ê¹Œ? ìƒê°í•©ë‹ˆë‹¤.
3. íŠ¸ëœì­ì…˜ ë° ë¶„ì‚°ë½ì„ í¼ì‚¬ë“œ íŒ¨í„´ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì„ê³„ì˜ì—­ ì„¤ì •)

<br>

## ë³µí•©ì²´ íŒ¨í„´

- ë³µí•©ì²´ íŒ¨í„´ì€ ê°ì²´ì§€í–¥ ì„¤ê³„ì˜ í•©ì„±(Composite)ê³¼ëŠ” ì „í˜€ ê´€ê³„ê°€ ì—†ìŠµë‹ˆë‹¤.
- ê°ì²´ë“¤ì˜ ê´€ê³„ë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±í•˜ì—¬ ì „ì²´-ë¶€ë¶„ ê³„ì¸µì„ í‘œí˜„í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- ë³µí•©ì²´ íŒ¨í„´ì€ ì£¼ë¡œ íŠ¸ë¦¬ êµ¬ì¡°ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ë©°, ì¬ê·€ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë°ì´í„°ê°€ íŠ¸ë¦¬ êµ¬ì¡°ê°€ ì•„ë‹ˆë¼ë©´ ë³µí•©ì²´ íŒ¨í„´ì— ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì˜ˆì œ ì½”ë“œ

```java
public interface Business {

    int totalDepartment();
    int totalEmployee();
}

public class Corporation implements Business {

    private final List<Department> departments;

    public Corporation(List<Department> departments) {
        this.departments = departments;
    }

    @Override
    public int totalDepartment() {
        return this.departments.size();
    }

    @Override
    public int totalEmployee() {
        return this.departments.stream()
                .mapToInt(Department::totalEmployee)
                .sum();
    }
}

public class Department implements Business {

    private final List<Employee> employees;

    public Department(List<Employee> employees) {
        this.employees = employees;
    }

    @Override
    public int totalDepartment() {
        return 1;
    }

    @Override
    public int totalEmployee() {
        return this.employees.size();
    }

    public void addEmployee(Employee employee) {
        if (this.employees == null) {
            throw new IllegalStateException();
        }

        this.employees.add(employee);
    }
}

public class Employee implements Business {

    private final String name;

    public Employee(String name) {
        this.name = name;
    }

    @Override
    public int totalDepartment() {
        return 0;
    }

    @Override
    public int totalEmployee() {
        return 1;
    }
}

public class Main {

    public static void main(String[] args) {
        List<Employee> employeesA = new ArrayList<>();
        List<Employee> employeesB = new ArrayList<>();

        Employee employeeA = new Employee("í™ê¸¸ë™");
        Employee employeeB = new Employee("ì´ìˆœì‹ ");
        Employee employeeC = new Employee("KDG");

        employeesA.add(employeeA);
        employeesA.add(employeeB);
        employeesB.add(employeeC);

        List<Department> departmentsA = new ArrayList<>();
        List<Department> departmentsB = new ArrayList<>();

        Department departmentA = new Department(employeesA);
        Department departmentB = new Department(employeesB);
        departmentA.addEmployee(new Employee("ê´‘ê°œí† ëŒ€ì™•"));

        departmentsA.add(departmentA);
        departmentsB.add(departmentB);

        Corporation corporationA = new Corporation(departmentsA);
        Corporation corporationB = new Corporation(departmentsB);

        // A ë²•ì¸
        System.out.println(corporationA.totalDepartment());     // 1
        System.out.println(corporationA.totalEmployee());       // 3

        // B ë²•ì¸
        System.out.println(corporationB.totalDepartment());     // 1
        System.out.println(corporationB.totalEmployee());       // 1
    }
}
```

<br>

#### ğŸ‘ ì¥ì 

- ìƒˆë¡œìš´ ê°ì²´ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ë³€ê²½ë˜ë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ëŠ” ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
- ê°ì²´ë³„ë¡œ ì±…ì„ê³¼ ì—­í• ì´ ë¶„ë¦¬ë˜ì–´ ìˆê³ , ê°ì²´ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì´ ì¼ê´€ì„±ì´ ìˆìŠµë‹ˆë‹¤.

#### ğŸ§ ë‹¨ì 

- íŠ¸ë¦¬ êµ¬ì¡°ë¼ëŠ” ìƒí™©ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íŠ¸ë¦¬ êµ¬ì¡°ëŠ” ê¹Šì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë””ë²„ê¹…ì´ í˜ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì „ì²´-ë¶€ë¶„ ê´€ê³„ê°€ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤ë¤„ì§€ë©´ ê´œì°®ì§€ë§Œ ë™ì¼í•˜ì§€ ì•Šì€ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ì„œëŠ” ì„¤ê³„ê°€ í˜ë“ ì ì´ ìˆìŠµë‹ˆë‹¤.

<br>

## í”Œë¼ì´ì›¨ì´íŠ¸(ê²½ëŸ‰) íŒ¨í„´

- í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì€ ê³µìœ ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ, ê³µìœ ë¥¼ í•˜ì—¬ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ê¸° ìœ„í•œ ëª©ì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
- ê³µìœ ë˜ëŠ” ê°ì²´ëŠ” ë¶ˆë³€ ê°ì²´ì—¬ì•¼ í•©ë‹ˆë‹¤.
- ìì£¼ ë³€í•˜ëŠ” ì†ì„±ê³¼ ìì£¼ ë³€í•˜ì§€ ì•ŠëŠ” ì†ì„±ì„ ë¶„ë¦¬í•˜ê³  ë³€í•˜ì§€ ì•ŠëŠ” ì†ì„±ì„ ìºì‹œí•˜ì—¬ ì¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì˜ˆì œ ì½”ë“œ

- ì²´ìŠ¤ ê²Œì„ì—ì„œ ì‚¬ìš©ìë³„ë¡œ ì²´ìŠ¤ ë§ì„ ê³„ì† ë§Œë“ ë‹¤ë©´ ì‚¬ìš©ìê°€ ìˆ˜ë§Œ, ìˆ˜ë°±ë§Œì´ ë˜ëŠ” ê²½ìš° OOM ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì—¬ê¸°ì„œ ë³€í•˜ëŠ” ê²ƒì€ ì²´ìŠ¤ ë§ì˜ ì¢Œí‘œì´ê³ , ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì€ id, type, color ì…ë‹ˆë‹¤.

```java
// ì²´ìŠ¤ ë§
public class ChessPiece {

    private final int id;
    private final Type type;
    private final Color color;
    private final int positionX;
    private final int positionY;

    public ChessPiece(int id, Type type, Color color, int positionX, int positionY) {
        this.id = id;
        this.type = type;
        this.color = color;
        this.positionX = positionX;
        this.positionY = positionY;
    }

    public Type getType() {
        return type;
    }

    public Color getColor() {
        return color;
    }

    @Override
    public String toString() {
        return "ChessPiece{" +
                "id=" + id +
                ", type=" + type +
                ", color=" + color +
                ", positionX=" + positionX +
                ", positionY=" + positionY +
                ", hashCode=" + this.hashCode() +
                '}';
    }
}

// ì²´ìŠ¤ íŒ
public class ChessBoard {

    private Map<Integer, ChessPiece> chessPieces = new HashMap<>();
    private final String playerA;
    private final String playerB;

    public ChessBoard(String playerA, String playerB) {
        this.playerA = playerA;
        this.playerB = playerB;
        init();
    }

    public void move(int chessPieceId, int positionX, int positionY) {
        ChessPiece chessPiece = this.chessPieces.get(chessPieceId);
        ChessPiece movedChessPiece = new ChessPiece(chessPieceId, chessPiece.getType(), chessPiece.getColor(), positionX, positionY);
        this.chessPieces.put(chessPieceId, movedChessPiece);
    }

    private void init() {
        this.chessPieces.put(1, new ChessPiece(1, Type.BISHOP, Color.BLACK, 0, 0));
        this.chessPieces.put(2, new ChessPiece(2, Type.KNIGHT, Color.BLACK, 0, 1));
        this.chessPieces.put(3, new ChessPiece(3, Type.BISHOP, Color.RED, 0, 0));
        this.chessPieces.put(4, new ChessPiece(4, Type.KNIGHT, Color.RED, 0, 1));
        this.chessPieces.put(10, new ChessPiece(10, Type.KNIGHT, Color.RED, 10, 10));
        this.chessPieces.put(15, new ChessPiece(15, Type.KNIGHT, Color.RED, 15, 15));
        // ê¸°íƒ€ ì²´ìŠ¤ ë§ ìƒëµ
    }

    public Map<Integer, ChessPiece> getChessPieces() {
        return this.chessPieces;
    }
}

public enum Color {
    RED, BLACK
}

public enum Type {
    BISHOP, KNIGHT
}

public class Main {

    public static void main(String[] args) {

        ChessBoard chessBoardA = new ChessBoard("í™ê¸¸ë™", "ì´ìˆœì‹ ");
        ChessBoard chessBoardB = new ChessBoard("KDG", "ê´‘ê°œí† ëŒ€ì™•");
        chessBoardA.move(10, 10, 10);
        chessBoardB.move(15, 15, 15);

        chessBoardA.getChessPieces().forEach((key, val) -> System.out.println("key: " + key + ", val: " + val));
        System.out.println("----------------------");
        chessBoardB.getChessPieces().forEach((key, val) -> System.out.println("key: " + key + ", val: " + val));
    }
}

// ê²°ê³¼
key: 1, val: ChessPiece{id=1, type=BISHOP, color=BLACK, positionX=0, positionY=0, hashCode=1639622804}
key: 2, val: ChessPiece{id=2, type=KNIGHT, color=BLACK, positionX=0, positionY=1, hashCode=1711574013}
key: 3, val: ChessPiece{id=3, type=BISHOP, color=RED, positionX=0, positionY=0, hashCode=1631862159}
key: 4, val: ChessPiece{id=4, type=KNIGHT, color=RED, positionX=0, positionY=1, hashCode=1146848448}
key: 10, val: ChessPiece{id=10, type=KNIGHT, color=RED, positionX=10, positionY=10, hashCode=1638215613}
key: 15, val: ChessPiece{id=15, type=KNIGHT, color=RED, positionX=15, positionY=15, hashCode=591137559}
----------------------
key: 1, val: ChessPiece{id=1, type=BISHOP, color=BLACK, positionX=0, positionY=0, hashCode=2075203460}
key: 2, val: ChessPiece{id=2, type=KNIGHT, color=BLACK, positionX=0, positionY=1, hashCode=866191240}
key: 3, val: ChessPiece{id=3, type=BISHOP, color=RED, positionX=0, positionY=0, hashCode=1879492184}
key: 4, val: ChessPiece{id=4, type=KNIGHT, color=RED, positionX=0, positionY=1, hashCode=872627152}
key: 10, val: ChessPiece{id=10, type=KNIGHT, color=RED, positionX=10, positionY=10, hashCode=1207769059}
key: 15, val: ChessPiece{id=15, type=KNIGHT, color=RED, positionX=15, positionY=15, hashCode=2094777811}
```

<br>

### í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•œ ì˜ˆì œ ì½”ë“œ

- ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ChessPieceUnit í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ìºì‹±í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê²°ê³¼ë¥¼ ë³´ë©´ ChessPieceUnit í´ë˜ìŠ¤ì˜ í•´ì‹œ ì½”ë“œëŠ” ì¬ì‚¬ìš©ë˜ëŠ” ê²ƒì„ í™•ì¼í•  ìˆ˜ ìˆìœ¼ë©°, ì¢Œí‘œì˜ í•´ì‹œ ì½”ë“œëŠ” ë°”ë€ŒëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


```java
// í”Œë¼ì´ì›¨ì´íŠ¸(ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„)
public class ChessPieceUnit {

    private final int id;
    private final Type type;
    private final Color color;

    public ChessPieceUnit(int id, Type type, Color color) {
        this.id = id;
        this.type = type;
        this.color = color;
    }

    @Override
    public String toString() {
        return "ChessPieceUnit{" +
                "id=" + id +
                ", type=" + type +
                ", color=" + color +
                ", hashCode=" + this.hashCode() +
                '}';
    }
}

// ì²´ìŠ¤ ë§
public class ChessPiece {

    private final ChessPieceUnit chessPieceUnit;
    private final int positionX;
    private final int positionY;

    public ChessPiece(ChessPieceUnit chessPieceUnit, int positionX, int positionY) {
        this.chessPieceUnit = chessPieceUnit;
        this.positionX = positionX;
        this.positionY = positionY;
    }

    @Override
    public String toString() {
        return "ChessPiece{" +
                "chessPieceUnit=" + chessPieceUnit +
                ", positionX=" + positionX +
                ", positionY=" + positionY +
                ", hashCode=" + this.hashCode() +
                '}';
    }
}

public class ChessPieceUnitFactory {

    private static final Map<Integer, ChessPieceUnit> PIECES = new HashMap<>();

    static {
        PIECES.put(1, new ChessPieceUnit(1, Type.BISHOP, Color.BLACK));
        PIECES.put(2, new ChessPieceUnit(2, Type.KNIGHT, Color.BLACK));
        PIECES.put(3, new ChessPieceUnit(3, Type.BISHOP, Color.RED));
        PIECES.put(4, new ChessPieceUnit(4, Type.KNIGHT, Color.RED));
        PIECES.put(10, new ChessPieceUnit(10, Type.KNIGHT, Color.RED));
        PIECES.put(15, new ChessPieceUnit(15, Type.KNIGHT, Color.RED));
    }

    public static ChessPieceUnit getChessPieceUnit(int chessPieceId) {
        return PIECES.get(chessPieceId);
    }
}

public class ChessBoard {

    private Map<Integer, ChessPiece> chessPieces = new HashMap<>();
    private final String playerA;
    private final String playerB;

    public ChessBoard(String playerA, String playerB) {
        this.playerA = playerA;
        this.playerB = playerB;
        init();
    }

    public void move(int chessPieceId, int positionX, int positionY) {
        ChessPieceUnit chessPieceUnit = ChessPieceUnitFactory.getChessPieceUnit(chessPieceId);
        ChessPiece movedChessPiece = new ChessPiece(chessPieceUnit, positionX, positionY);
        this.chessPieces.put(chessPieceId, movedChessPiece);
    }

    private void init() {
        this.chessPieces.put(1, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(1), 0, 0));
        this.chessPieces.put(2, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(2), 0, 1));
        this.chessPieces.put(3, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(3), 0, 0));
        this.chessPieces.put(4, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(4), 0, 1));
        this.chessPieces.put(10, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(10), 10, 10));
        this.chessPieces.put(15, new ChessPiece(ChessPieceUnitFactory.getChessPieceUnit(15), 15, 15));
        // ê¸°íƒ€ ì²´ìŠ¤ ë§ ìƒëµ
    }

    public Map<Integer, ChessPiece> getChessPieces() {
        return this.chessPieces;
    }
}

public class Main {

    public static void main(String[] args) {

        ChessBoard chessBoardA = new ChessBoard("í™ê¸¸ë™", "ì´ìˆœì‹ ");
        ChessBoard chessBoardB = new ChessBoard("KDG", "ê´‘ê°œí† ëŒ€ì™•");
        chessBoardA.move(1, 10, 10);
        chessBoardB.move(2, 15, 15);

        chessBoardA.getChessPieces().forEach((key, val) -> System.out.println("key: " + key + ", val: " + val));
        System.out.println("----------------------");
        chessBoardB.getChessPieces().forEach((key, val) -> System.out.println("key: " + key + ", val: " + val));
    }
}

// ê²°ê³¼
key: 1, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=1, type=BISHOP, color=BLACK, hashCode=1654589030}, positionX=10, positionY=10, hashCode=184966243}
key: 2, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=2, type=KNIGHT, color=BLACK, hashCode=1416233903}, positionX=0, positionY=1, hashCode=2030562336}
key: 3, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=3, type=BISHOP, color=RED, hashCode=679890578}, positionX=0, positionY=0, hashCode=1914572623}
key: 4, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=4, type=KNIGHT, color=RED, hashCode=1792393294}, positionX=0, positionY=1, hashCode=1856426318}
key: 10, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=10, type=KNIGHT, color=RED, hashCode=1918627686}, positionX=10, positionY=10, hashCode=1748225580}
key: 15, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=15, type=KNIGHT, color=RED, hashCode=1849433705}, positionX=15, positionY=15, hashCode=716143810}
----------------------
key: 1, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=1, type=BISHOP, color=BLACK, hashCode=1654589030}, positionX=0, positionY=0, hashCode=897913732}
key: 2, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=2, type=KNIGHT, color=BLACK, hashCode=1416233903}, positionX=15, positionY=15, hashCode=1688019098}
key: 3, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=3, type=BISHOP, color=RED, hashCode=679890578}, positionX=0, positionY=0, hashCode=1792845110}
key: 4, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=4, type=KNIGHT, color=RED, hashCode=1792393294}, positionX=0, positionY=1, hashCode=896681694}
key: 10, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=10, type=KNIGHT, color=RED, hashCode=1918627686}, positionX=10, positionY=10, hashCode=687241927}
key: 15, val: ChessPiece{chessPieceUnit=ChessPieceUnit{id=15, type=KNIGHT, color=RED, hashCode=1849433705}, positionX=15, positionY=15, hashCode=627185331}
```






