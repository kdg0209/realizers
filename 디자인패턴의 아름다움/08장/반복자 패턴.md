# 반복자 패턴

- 반복자 패턴은 커서 패턴이라고도 합니다.
- 반복자 패턴은 컬렉션을 정해진 순서대로 가져올 때 사용되며, 컬렉션이란 배열, 링크드 리스트, 트리, 그래프, 점프 테이블과 같이 데이터를 가지고 있는 컨테이너를 의미합니다.

### 구조

![스크린샷 2024-05-14 오후 9 26 47](https://github.com/kdg0209/realizers/assets/80187200/c4078e6f-9a4f-4977-892e-83a81b94c3a7)

<br>

### 반복자 패턴을 적용하지 않은 예제

- 아래처럼 댓글에 대한 다양한 정렬 기능을 구현해야 하는 경우 반복자 패턴을 적용하지 않았을 경우 

```java
public class CommentCollection {

    private Comment[] comments;
    private int size;
    private int capacity;

    public CommentCollection() {
        this.size = 0;
        this.capacity = 4;
        this.comments = new Comment[this.capacity];
    }

    public void addComment(Comment comment) {
        this.comments[this.size] = comment;
        this.size++;
    }

    public void printBySort(Comparator<Comment> comparator) {
        Arrays.sort(this.comments, comparator);

        for (Comment comment : this.comments) {
            System.out.println(comment);
        }
    }
}

public class Comment implements Collection {

    private final String name;
    private final LocalDate createDate;

    public Comment(String name, LocalDate createDate) {
        this.name = name;
        this.createDate = createDate;
    }
}

public class Main {

    public static void main(String[] args) {

        CommentCollection collection = new CommentCollection();
        collection.addComment(new Comment("KDG", LocalDate.of(2024, 01, 10)));
        collection.addComment(new Comment("홍길동", LocalDate.of(2024, 01, 03)));
        collection.addComment(new Comment("이순신", LocalDate.of(2024, 01, 02)));
        collection.addComment(new Comment("김길동", LocalDate.of(2024, 01, 05)));

        // 이름을 기준으로 정렬
        Comparator<Comment> comparatorA = (o1, o2) -> o1.getName().compareTo(o2.getName());
        collection.printBySort(comparatorA);
        // Comment{name='KDG', createDate=2024-01-10}
        // Comment{name='김길동', createDate=2024-01-05}
        // Comment{name='이순신', createDate=2024-01-02}
        // Comment{name='홍길동', createDate=2024-01-03}

        // 등록일을 기준으로 정렬
        Comparator<Comment> comparatorB = (o1, o2) -> o1.getCreateDate().compareTo(o2.getCreateDate());
        collection.printBySort(comparatorB);
        // Comment{name='이순신', createDate=2024-01-02}
        // Comment{name='홍길동', createDate=2024-01-03}
        // Comment{name='김길동', createDate=2024-01-05}
        // Comment{name='KDG', createDate=2024-01-10}

    }
}
```

<br>

### 반복자 패턴을 적용한 예제









