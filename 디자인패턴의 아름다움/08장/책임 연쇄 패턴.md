# 책임 연쇄 패턴

- 책임 연쇄 패턴을 이해하기 가장 쉬운 예제는 스프링의 시큐리니 필터 체인이라 생각하는데, 그 이유는 요청의 발신과 수신을 분리하고, 발신된 요청은 해당 요청을 처리할 수 있는 수신 객체를 만날때까지 체인을 따라 계속 이동하기 때문입니다.

### 구조

<img width="1032" alt="스크린샷 2024-05-12 오후 5 24 17" src="https://github.com/kdg0209/realizers/assets/80187200/dc217af2-1b2a-4fca-92f8-c14431b4d7d5">

<br>

### 예제

```java
public abstract class SecurityHandler {

    protected SecurityHandler nextHandler = null;

    public final void handle() {
        boolean handled = doHandle();

        if (handled && this.nextHandler != null) {
            this.nextHandler.handle();
        }
    }

    protected abstract boolean doHandle();
}

public class UsernamePasswordAuthenticationFilter extends SecurityHandler {

    @Override
    protected boolean doHandle() {
        System.out.println("UsernamePasswordAuthenticationFilter Call");

        if (nextHandler != null) {
            nextHandler.handle();
            return true;
        }

        return false;
    }
}

public class ExceptionTranslationFilter extends SecurityHandler {

    @Override
    protected boolean doHandle() {
        System.out.println("ExceptionTranslationFilter Call");

        if (nextHandler != null) {
            nextHandler.handle();
            return true;
        }

        return false;
    }
}

public class SecurityHandlerChain {

    private final List<SecurityHandler> securityHandlers = new ArrayList<>();

    public void addSecurityHandler(SecurityHandler handler) {
        this.securityHandlers.add(handler);
    }

    public void handle() {
        this.securityHandlers.forEach(SecurityHandler::handle);
    }
}

public class Main {

    public static void main(String[] args) {
        SecurityHandlerChain chain = new SecurityHandlerChain();
        chain.addSecurityHandler(new UsernamePasswordAuthenticationFilter());
        chain.addSecurityHandler(new ExceptionTranslationFilter());

        chain.handle();
        // UsernamePasswordAuthenticationFilter Call
        // ExceptionTranslationFilter Call
    }
}
```


















